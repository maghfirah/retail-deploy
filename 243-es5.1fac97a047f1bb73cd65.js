!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkrvn_retail_ui=self.webpackChunkrvn_retail_ui||[]).push([[243],{6243:function(t,r,i){i.r(r),i.d(r,{TransactionOrderModule:function(){return S}});var l=i(8583),a=i(4762),o=i(5973),s=i(2340),u=i(8412),d=i(4162),c=i(8259),p=i.n(c),g=i(1576),m=i(7716),Z=i(7957),D=i(1689),h=i(3206),f=i(7199),v=i(6506),A=i(5770);function T(e,t){1&e&&(m.TgZ(0,"div"),m.TgZ(1,"div",2),m._UZ(2,"div",3),m.qZA(),m.qZA())}function q(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",31),m.TgZ(1,"button",32),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).prosesPesanan()}),m._uU(2," PROSES PESANAN "),m.qZA(),m.qZA()}}function b(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",31),m.TgZ(1,"button",33),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).kirimPesanan()}),m._uU(2," KIRIM PESANAN "),m.qZA(),m.qZA()}}function x(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m._UZ(2,"br"),m.TgZ(3,"span",34),m._uU(4,"Silahkan untuk letakkan nomor resi/tracking pada paket anda, dan bisa untuk search via "),m.TgZ(5,"a",35),m._uU(6,"shipper.id/tracking"),m.qZA(),m._uU(7," untuk memantau perjalanan paket yang anda kirimkan. Pesanan yang diproses sebelum 15.00 akan diambil paketnya pada hari tersebut, selebihnya akan diambil di esok hari."),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij(" Tracking Id: ",n.orderDetail.shipping.trackingId," ")}}function _(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij(" No. Resi: ",n.orderDetail.shipping.awbNumber," ")}}function k(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1," Tracking Id: 5j08725 "),m._UZ(2,"i",36),m._UZ(3,"br"),m.TgZ(4,"span",34),m._uU(5,"Silahkan untuk letakkan nomor resi/tracking pada paket anda, dan bisa untuk search via "),m.TgZ(6,"a",35),m._uU(7,"shipper.id/tracking"),m.qZA(),m._uU(8," untuk memantau perjalanan paket yang anda kirimkan. Pesanan yang diproses sebelum 15.00 akan diambil paketnya pada hari tersebut, selebihnya akan diambil di esok hari."),m.qZA(),m.qZA())}var U=function(e,t){return{"is-finished":e,"is-active":t}};function y(e,t){if(1&e&&(m.TgZ(0,"li",16),m.TgZ(1,"div",17),m.TgZ(2,"div",18),m.TgZ(3,"b"),m._uU(4," Pesanan Dikirim"),m.qZA(),m.qZA(),m.TgZ(5,"div",19),m._uU(6," Pesanan telah dikirim dari "),m._UZ(7,"br"),m._uU(8),m.qZA(),m.TgZ(9,"div",20),m._uU(10),m.ALo(11,"date"),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.Q6J("ngClass",m.WLB(6,U,null!==(null==n.orderDetail||null==n.orderDetail.milestones[1]?null:n.orderDetail.milestones[1].createdDate)&&null==(null==n.orderDetail||null==n.orderDetail.milestones[2]?null:n.orderDetail.milestones[2].createdDate),null!==(null==n.orderDetail||null==n.orderDetail.milestones[2]?null:n.orderDetail.milestones[2].createdDate)&&null==(null==n.orderDetail||null==n.orderDetail.milestones[3]?null:n.orderDetail.milestones[3].createdDate))),m.xp6(8),m.hij(" ",n.orderDetail.merchant.name," "),m.xp6(2),m.hij(" ",m.xi3(11,3,null==n.orderDetail||null==n.orderDetail.milestones[2]?null:n.orderDetail.milestones[2].createdDate,"dd MMMM yyyy, HH:mm:ss")," ")}}function w(e,t){if(1&e&&(m.TgZ(0,"li",16),m.TgZ(1,"div",17),m.TgZ(2,"div",18),m.TgZ(3,"b"),m._uU(4," Pesanan Telah Sampai di Tujuan"),m.qZA(),m.qZA(),m.TgZ(5,"div",19),m._uU(6," Pesanan akan segera diterima "),m._UZ(7,"br"),m._uU(8," sesuai estimasi waktu "),m.qZA(),m.TgZ(9,"div",20),m._uU(10),m.ALo(11,"date"),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.Q6J("ngClass",m.WLB(5,U,null!==(null==n.orderDetail||null==n.orderDetail.milestones[2]?null:n.orderDetail.milestones[2].createdDate)&&null==(null==n.orderDetail||null==n.orderDetail.milestones[3]?null:n.orderDetail.milestones[3].createdDate),null!==(null==n.orderDetail||null==n.orderDetail.milestones[3]?null:n.orderDetail.milestones[3].createdDate)&&null==(null==n.orderDetail||null==n.orderDetail.milestones[4]?null:n.orderDetail.milestones[4].createdDate))),m.xp6(10),m.hij(" ",m.xi3(11,2,null==n.orderDetail||null==n.orderDetail.milestones[3]?null:n.orderDetail.milestones[3].createdDate,"dd MMMM yyyy, HH:mm:ss")," ")}}function M(e,t){if(1&e&&(m.TgZ(0,"li",37),m.TgZ(1,"div",17),m.TgZ(2,"div",18),m.TgZ(3,"b"),m._uU(4," Pesanan Selesai"),m.qZA(),m.qZA(),m.TgZ(5,"div",19),m._uU(6," Transaksi sukses dan pembeli "),m._UZ(7,"br"),m._uU(8," telah menerima pesanan "),m.qZA(),m.TgZ(9,"div",20),m._uU(10),m.ALo(11,"date"),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(10),m.hij(" ",m.xi3(11,1,null==n.orderDetail||null==n.orderDetail.milestones[4]?null:n.orderDetail.milestones[4].createdDate,"dd MMMM yyyy, HH:mm:ss")," ")}}function P(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"div",38),m.TgZ(2,"div",39),m._UZ(3,"img",40),m.qZA(),m.TgZ(4,"div",41),m.TgZ(5,"div",27),m.TgZ(6,"div",6),m.TgZ(7,"span",42),m._uU(8),m.qZA(),m.TgZ(9,"h6",11),m._uU(10),m.qZA(),m.qZA(),m.qZA(),m.TgZ(11,"div",27),m.TgZ(12,"div",41),m.TgZ(13,"h4"),m._uU(14),m.ALo(15,"currency"),m.qZA(),m.qZA(),m.TgZ(16,"div",39),m.TgZ(17,"span",42),m._uU(18),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.$implicit,r=m.oxw().$implicit;m.xp6(3),m.Q6J("src",r.image,m.LSH),m.xp6(5),m.Oqu(r.name),m.xp6(2),m.Oqu(n.color),m.xp6(4),m.Oqu(m.gM2(15,5,n.price,"Rp ","symbol-narrow","1.0")),m.xp6(4),m.Oqu("x "+n.quantity)}}function O(e,t){if(1&e&&(m.TgZ(0,"div"),m.YNc(1,P,19,10,"div",26),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.Q6J("ngForOf",n.items)}}var N=function(e){return{"is-active":e}};function R(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",4),m.TgZ(1,"div",5),m.TgZ(2,"div",6),m.TgZ(3,"button",7),m.NdJ("click",function(){return m.CHM(n),m.oxw().detailPesanan()}),m._UZ(4,"i",8),m.qZA(),m.TgZ(5,"span",9),m._uU(6,"Detail Pesanan"),m.qZA(),m._UZ(7,"hr"),m.qZA(),m.qZA(),m.TgZ(8,"div",10),m.TgZ(9,"div",6),m.TgZ(10,"span",11),m._uU(11,"Nomor Pesanan"),m.qZA(),m._UZ(12,"br"),m.TgZ(13,"span"),m.TgZ(14,"b"),m._uU(15),m.qZA(),m.qZA(),m._UZ(16,"br"),m._UZ(17,"br"),m.TgZ(18,"span",11),m._uU(19,"Tanggal Pemesanan"),m.qZA(),m._UZ(20,"br"),m.TgZ(21,"span"),m.TgZ(22,"b"),m._uU(23),m.ALo(24,"date"),m.qZA(),m.qZA(),m.YNc(25,q,3,0,"div",12),m.YNc(26,b,3,0,"div",12),m._UZ(27,"hr"),m.qZA(),m.qZA(),m.TgZ(28,"div",10),m.TgZ(29,"div",6),m.TgZ(30,"h4"),m._uU(31,"Alamat Pengiriman"),m.qZA(),m._UZ(32,"br"),m.TgZ(33,"span"),m.TgZ(34,"b"),m._uU(35),m.qZA(),m.qZA(),m._UZ(36,"br"),m.TgZ(37,"span"),m._uU(38),m.qZA(),m._UZ(39,"br"),m.TgZ(40,"span"),m._uU(41),m.qZA(),m._UZ(42,"hr"),m.qZA(),m.qZA(),m.TgZ(43,"div",10),m.TgZ(44,"div",6),m.TgZ(45,"span"),m.TgZ(46,"b"),m._uU(47),m.qZA(),m.qZA(),m.TgZ(48,"span"),m._uU(49),m.qZA(),m._UZ(50,"br"),m.YNc(51,x,8,1,"span",13),m.YNc(52,_,2,1,"span",13),m.YNc(53,k,9,0,"span",13),m.qZA(),m.qZA(),m.TgZ(54,"div",14),m.TgZ(55,"div",6),m.TgZ(56,"div",15),m.TgZ(57,"ul"),m.TgZ(58,"li",16),m.TgZ(59,"div",17),m.TgZ(60,"div",18),m.TgZ(61,"b"),m._uU(62," Pembayaran Dikonfirmasi"),m.qZA(),m.qZA(),m.TgZ(63,"div",19),m._uU(64," Pembayaran telah dikofirmasi dan "),m._UZ(65,"br"),m._uU(66," akan diteruskan ke penjual "),m.qZA(),m.TgZ(67,"div",20),m._uU(68),m.ALo(69,"date"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(70,"li",16),m.TgZ(71,"div",17),m.TgZ(72,"div",18),m.TgZ(73,"b"),m._uU(74," Pesanan Diproses"),m.qZA(),m.qZA(),m.TgZ(75,"div",19),m._uU(76," Pesanan Anda sedang diproses oleh penjual "),m.qZA(),m.TgZ(77,"div",20),m._uU(78),m.ALo(79,"date"),m.qZA(),m.qZA(),m.qZA(),m.YNc(80,y,12,9,"li",21),m.YNc(81,w,12,8,"li",21),m.YNc(82,M,12,4,"li",22),m.qZA(),m.qZA(),m._UZ(83,"hr"),m.qZA(),m.qZA(),m.TgZ(84,"div",23),m.TgZ(85,"div",6),m._UZ(86,"img",24),m.TgZ(87,"span",25),m._uU(88),m.qZA(),m.qZA(),m.qZA(),m.YNc(89,O,2,1,"div",26),m.TgZ(90,"div",14),m.TgZ(91,"div",6),m.TgZ(92,"div",27),m.TgZ(93,"div",28),m.TgZ(94,"span"),m.TgZ(95,"b"),m._uU(96),m.qZA(),m.qZA(),m._UZ(97,"br"),m.TgZ(98,"span"),m.TgZ(99,"b"),m._uU(100,"Ongkos Kirim"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(101,"div",29),m.TgZ(102,"span"),m.TgZ(103,"b"),m._uU(104),m.ALo(105,"currency"),m.qZA(),m.qZA(),m._UZ(106,"br"),m.TgZ(107,"span"),m.TgZ(108,"b"),m._uU(109),m.ALo(110,"currency"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m._UZ(111,"hr"),m.TgZ(112,"div",27),m.TgZ(113,"div",28),m.TgZ(114,"span"),m.TgZ(115,"b"),m._uU(116,"Total Pembayaran"),m.qZA(),m.qZA(),m._UZ(117,"br"),m.TgZ(118,"span"),m.TgZ(119,"b"),m._uU(120,"Metode Pembayaran"),m.qZA(),m.qZA(),m._UZ(121,"br"),m.TgZ(122,"span"),m.TgZ(123,"b"),m._uU(124,"Asuransi Pengiriman"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(125,"div",29),m.TgZ(126,"h4",30),m.TgZ(127,"b"),m._uU(128),m.ALo(129,"currency"),m.qZA(),m.qZA(),m.TgZ(130,"span"),m.TgZ(131,"b"),m._uU(132),m.qZA(),m.qZA(),m._UZ(133,"br"),m.TgZ(134,"span"),m.TgZ(135,"b"),m._uU(136),m.ALo(137,"currency"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var r=m.oxw();m.xp6(15),m.Oqu(null==r.orderDetail?null:r.orderDetail.invoiceNumber),m.xp6(8),m.Oqu(m.xi3(24,28,null==r.orderDetail?null:r.orderDetail.createdDate,"dd MMMM yyyy, HH:mm:ss z")),m.xp6(2),m.Q6J("ngIf",null!=(null==r.orderDetail||null==r.orderDetail.milestones[0]?null:r.orderDetail.milestones[0].createdDate)&&null==(null==r.orderDetail||null==r.orderDetail.milestones[1]?null:r.orderDetail.milestones[1].createdDate)),m.xp6(1),m.Q6J("ngIf",null!=(null==r.orderDetail||null==r.orderDetail.milestones[1]?null:r.orderDetail.milestones[1].createdDate)&&null==(null==r.orderDetail||null==r.orderDetail.milestones[2]?null:r.orderDetail.milestones[2].createdDate)),m.xp6(9),m.Oqu(null==r.orderDetail||null==r.orderDetail.customer?null:r.orderDetail.customer.name),m.xp6(3),m.Oqu(null==r.orderDetail||null==r.orderDetail.customer?null:r.orderDetail.customer.phoneNumber),m.xp6(3),m.Oqu(null==r.orderDetail||null==r.orderDetail.customer?null:r.orderDetail.customer.detailAddress),m.xp6(6),m.Oqu((null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.name)+" - "+(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.rateName)),m.xp6(2),m.hij(" (Akan diterima pada ",r.addDate(1,3,r.orderDetail.createdDate),")"),m.xp6(2),m.Q6J("ngIf",null!=(null==r.orderDetail||null==r.orderDetail.milestones[2]?null:r.orderDetail.milestones[2].createdDate)&&""!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.trackingId)&&null!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.trackingId)&&(""==(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.awbNumber)||null==(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.awbNumber))),m.xp6(1),m.Q6J("ngIf",null!=(null==r.orderDetail||null==r.orderDetail.milestones[2]?null:r.orderDetail.milestones[2].createdDate)&&""!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.awbNumber)&&null!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.awbNumber)),m.xp6(1),m.Q6J("ngIf",!(null==(null==r.orderDetail||null==r.orderDetail.milestones[2]?null:r.orderDetail.milestones[2].createdDate)||""!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.trackingId)&&null!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.trackingId)||""!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.awbNumber)&&null!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.awbNumber)||0!=(null==r.orderDetail||null==r.orderDetail.shipping?null:r.orderDetail.shipping.digitalGoods)||r.envUrl===r.envSimulatorNotExist)),m.xp6(5),m.Q6J("ngClass",m.VKq(57,N,null!==(null==r.orderDetail||null==r.orderDetail.milestones[0]?null:r.orderDetail.milestones[0].createdDate)&&null==(null==r.orderDetail||null==r.orderDetail.milestones[1]?null:r.orderDetail.milestones[1].createdDate))),m.xp6(10),m.hij(" ",m.xi3(69,31,null==r.orderDetail||null==r.orderDetail.milestones[0]?null:r.orderDetail.milestones[0].createdDate,"dd MMMM yyyy, HH:mm:ss")," "),m.xp6(2),m.Q6J("ngClass",m.WLB(59,U,null!==(null==r.orderDetail||null==r.orderDetail.milestones[0]?null:r.orderDetail.milestones[0].createdDate)&&null==(null==r.orderDetail||null==r.orderDetail.milestones[1]?null:r.orderDetail.milestones[1].createdDate),null!==(null==r.orderDetail||null==r.orderDetail.milestones[1]?null:r.orderDetail.milestones[1].createdDate)&&null==(null==r.orderDetail||null==r.orderDetail.milestones[2]?null:r.orderDetail.milestones[2].createdDate))),m.xp6(8),m.hij(" ",m.xi3(79,34,null==r.orderDetail||null==r.orderDetail.milestones[1]?null:r.orderDetail.milestones[1].createdDate,"dd MMMM yyyy, HH:mm:ss")," "),m.xp6(2),m.Q6J("ngIf",null!=(null==r.orderDetail||null==r.orderDetail.milestones[0]?null:r.orderDetail.milestones[0].createdDate)&&null!=(null==r.orderDetail||null==r.orderDetail.milestones[1]?null:r.orderDetail.milestones[1].createdDate)),m.xp6(1),m.Q6J("ngIf",null!=(null==r.orderDetail||null==r.orderDetail.milestones[1]?null:r.orderDetail.milestones[1].createdDate)&&null!=(null==r.orderDetail||null==r.orderDetail.milestones[2]?null:r.orderDetail.milestones[2].createdDate)),m.xp6(1),m.Q6J("ngIf",null!=(null==r.orderDetail||null==r.orderDetail.milestones[2]?null:r.orderDetail.milestones[2].createdDate)&&null!=(null==r.orderDetail||null==r.orderDetail.milestones[3]?null:r.orderDetail.milestones[3].createdDate)),m.xp6(4),m.Q6J("src",null==r.orderDetail||null==r.orderDetail.merchant?null:r.orderDetail.merchant.image,m.LSH),m.xp6(2),m.Oqu(null==r.orderDetail||null==r.orderDetail.merchant?null:r.orderDetail.merchant.name),m.xp6(1),m.Q6J("ngForOf",r.orderDetail.products),m.xp6(7),m.hij("Total Harga (",r.totalProduct," Produk)"),m.xp6(8),m.Oqu(m.gM2(105,37,r.orderDetail.payment.itemsPrice,"Rp ","symbol-narrow","1.0")),m.xp6(5),m.Oqu(m.gM2(110,42,r.orderDetail.payment.shippingPrice,"Rp ","symbol-narrow","1.0")),m.xp6(19),m.Oqu(m.gM2(129,47,r.orderDetail.payment.amount,"Rp ","symbol-narrow","1.0")),m.xp6(4),m.Oqu(r.orderDetail.payment.channel),m.xp6(4),m.Oqu(m.gM2(137,52,r.orderDetail.payment.insurancePrice,"Rp ","symbol-narrow","1.0"))}}var C,I=[{path:"",component:(C=function(){function t(n,r,i,l,a){e(this,t),this.activatedRoute=n,this.requestService=r,this.apiModelTranslatorService=i,this.errorService=l,this.alertService=a,this.loading=!0,this.orderDetail=new o.dn,this.envUrl=s.N.envUrl,this.envSimulatorNotExist=g.q.ENV_SIMULATOR_NOT_EXIST,this.totalProduct=0}return n(t,[{key:"ngOnInit",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.activatedRoute.params.subscribe(function(e){t.uiIdInvoice=e.uiIdInvoice,t.businessName=e.businessName});case 2:return e.next=4,this.initLoad();case 4:case"end":return e.stop()}},e,this)}))}},{key:"initLoad",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkOrder();case 2:case"end":return e.stop()}},e,this)}))}},{key:"checkOrder",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.N.apiUrl+u.b.ORDER,(n=new Map).set("uiId",this.uiIdInvoice),e.next=4,this.requestService.get(t,n).toPromise().then(function(e){return i.apiModelTranslatorService.snakeToCamelCase(e)},function(e){i.errorService.getErrorApi(e)});case 4:if((r=e.sent).paymentStatus!==d.b.Paid){e.next=11;break}return this.loading=!1,e.next=9,this.getDetailOrder();case 9:e.next=12;break;case 11:""!==r.redirectUrl||null!==r.redirectUrl?window.location.href=r.redirectUrl:this.alertService.setProps("Mohon maaf terjadi kesalahan, mohon coba kembali",!0);case 12:case"end":return e.stop()}},e,this)}))}},{key:"getDetailOrder",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.N.apiUrl+u.b.MERCHANT_ORDER+"/"+this.uiIdInvoice+u.b.MERCHANT_ORDER_DETAIL,e.next=3,this.requestService.get(t,null).toPromise().then(function(e){return n.orderDetail=n.apiModelTranslatorService.snakeToCamelCase(e),n.orderDetail.milestones=n.orderDetail.milestones.sort(function(e,t){return e.order-t.order}),n.totalProduct=n.orderDetail.products.reduce(function(e,t){return e+t.items.reduce(function(e,t){return e+t.quantity},0)},0),n.orderDetail},function(e){n.errorService.getErrorApi(e)});case 3:case"end":return e.stop()}},e,this)}))}},{key:"detailPesanan",value:function(){}},{key:"addDate",value:function(e,t,n){var r,i="MMMM",a="id",o=(r=void 0===n?new Date:new Date(n)).setDate(r.getDate()+e),s=r.setDate(r.getDate()+t),u=(0,l.p6)(o,"dd",a),d=(0,l.p6)(s,"dd",a),c=(0,l.p6)(o,i,a),p=(0,l.p6)(o,i,a);return c===p?u+" - "+d+" "+p:u+" "+c+" - "+d+" "+p}},{key:"fileProgress",value:function(e,t){this.fileData=e.target.files[0],void 0!==this.fileData&&this.preview(t)}},{key:"preview",value:function(e){var t,n=this;if(null!==(null===(t=this.fileData)||void 0===t?void 0:t.type).match("image.*"))if(this.fileData.size>1e6)this.alertService.setProps("Size more than 1 MB",!0);else{var r=new FileReader;r.readAsDataURL(this.fileData),r.onload=function(e){var t=new Image;t.src=r.result,t.onload=function(){t.naturalHeight<300||t.naturalWidth<300?n.alertService.setProps("Minimum width and height 300",!0):(n.previewImageProduct1=r.result,n.imageToUpload1=n.fileData)}}}else this.alertService.setProps("Failed Upload Type",!0)}},{key:"prosesPesanan",value:function(){var e=this,t=s.N.apiUrl+u.b.MERCHANT_ORDER+"/"+this.uiIdInvoice+u.b.MERCHANT_ORDER_PROCESS;p().fire({title:"Proses Pesanan?",text:"Setelah klik proses pesanan, silahkan segera siapkan dan kemas pesanan Anda",showCancelButton:!0,cancelButtonText:"BATAL",cancelButtonColor:"#666666",reverseButtons:!0,confirmButtonColor:"#E1251B",confirmButtonText:"PROSES",showLoaderOnConfirm:!0,customClass:{title:"swal2-title-modal-medium"},preConfirm:function(){return(0,a.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestService.post(t,null,null).toPromise().then(function(e){return(0,a.mG)(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDetailOrder();case 2:case"end":return e.stop()}},e,this)}))},function(e){n.errorService.getErrorApi(e)});case 2:case"end":return e.stop()}},e,this)}))}})}},{key:"kirimPesanan",value:function(){var e=this,t=s.N.apiUrl+u.b.MERCHANT_ORDER+"/"+this.uiIdInvoice+u.b.MERCHANT_ORDER_SEND;p().fire({title:"Kirim Pesanan - Dijemput Kurir",text:"Mohon pastikan No. HP dan alamat toko yang telah Anda atur pada pengaturan Retail sudah benar dan akurat",showCancelButton:!0,cancelButtonText:"BATAL",cancelButtonColor:"#666666",reverseButtons:!0,confirmButtonColor:"#E1251B",confirmButtonText:"AJUKAN PENJEMPUTAN",showLoaderOnConfirm:!0,customClass:{title:"swal2-title-modal-medium"},preConfirm:function(){return(0,a.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestService.post(t,null,null).toPromise().then(function(e){return(0,a.mG)(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDetailOrder();case 2:case"end":return e.stop()}},e,this)}))},function(e){n.errorService.getErrorApi(e)});case 2:case"end":return e.stop()}},e,this)}))}})}}]),t}(),C.\u0275fac=function(e){return new(e||C)(m.Y36(Z.gz),m.Y36(D.s),m.Y36(h.g),m.Y36(f.T),m.Y36(v.c))},C.\u0275cmp=m.Xpm({type:C,selectors:[["app-transaction-order-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loaded",""],[1,"center"],["role","status",1,"spinner-border","text-primary","spinner-sm","mr-5"],[1,"container-mobile"],[1,"row","pt-3"],[1,"col-12"],["id","backButton","type","button",1,"btn",3,"click"],[1,"fas","fa-arrow-left"],[2,"font-size","16px","font-weight","bold"],[1,"row","pl-3","pr-3"],[1,"text-muted"],["class","pt-3",4,"ngIf"],[4,"ngIf"],[1,"row","p-3"],[1,"timeline","timeline-vertical","timeline-progress","timeline-primary"],[3,"ngClass"],[1,"description"],[1,"desc_title"],[1,"desc_content"],[1,"desc_time",2,"width","160px"],[3,"ngClass",4,"ngIf"],["class","is-finished",4,"ngIf"],[1,"row","pl-3","pr-3","mb-3"],[2,"height","24px","width","24px","border-radius","50%",3,"src"],[1,"ml-3",2,"font-size","16px","font-weight","bold"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],[1,"text-success"],[1,"pt-3"],["id","prosesPesanan","type","button",1,"btn","btn-primary",3,"click"],["id","kirimPesanan","type","button",1,"btn","btn-primary",3,"click"],[2,"text-align","justify","display","block"],["href","https://shipper.id/tracking"],["ngbTooltip","Tracking Id Simulasi",1,"fas","fa-info-circle","text-primary","ml-2"],[1,"is-finished"],[1,"row","mb-2","px-3"],[1,"col-2"],[2,"height","64px","width","100%",3,"src"],[1,"col-10"],[2,"font-size","16px"]],template:function(e,t){if(1&e&&(m.YNc(0,T,3,0,"div",0),m.YNc(1,R,138,62,"ng-template",null,1,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.loading)("ngIfElse",n)}},directives:[l.O5,l.mk,l.sg,A._L],pipes:[l.uU,l.H9],styles:[".center[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:fixed;top:0;bottom:0;left:0;right:0;margin:auto}.container-mobile[_ngcontent-%COMP%]{min-width:360px;max-width:600px;margin:-24px auto -45px;background-color:#fff;min-height:100vh;position:relative}@media (max-width: 768px){.container-mobile[_ngcontent-%COMP%]{margin:-24px -24px -45px}}img.image-container[_ngcontent-%COMP%]{width:110px;height:110px;-o-object-fit:contain;object-fit:contain}.responsive-layout[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.responsive-layout[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:first-child, .responsive-layout[_ngcontent-%COMP%]{margin-right:16px}@media (max-width: 768px){.responsive-layout[_ngcontent-%COMP%]{display:block}.responsive-layout[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .responsive-layout[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}}.bottom-card[_ngcontent-%COMP%]{box-shadow:0 -2px 10px rgba(0,0,0,.1);border-radius:16px 16px 0 0;margin:0;padding-top:24px;padding-bottom:32px}"]}),C),pathMatch:"full"}],S=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[l.ez,Z.Bz.forChild(I),A.HK]]}),t}()}}])}();