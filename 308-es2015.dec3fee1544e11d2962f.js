"use strict";(self.webpackChunkrvn_retail_ui=self.webpackChunkrvn_retail_ui||[]).push([[308],{2308:function(t,i,e){e.r(i),e.d(i,{InventoryModule:function(){return Ui}});var r=e(8583),n=e(4762),o=e(3709),a=e(2340),d=e(8412),u=e(5320),c=e(6473),g=e(8228),s=e(3595),l=e(6694),p=e(7716),Z=e(665),m=e(1689),h=e(3206),v=e(6506),f=e(7199),T=e(5770),A=e(7957),q=e(8259),k=e.n(q),x=e(2562),b=e(9917);function U(t,i){1&t&&(p.TgZ(0,"div"),p.TgZ(1,"div",2),p._UZ(2,"div",3),p.qZA(),p.qZA())}function P(t,i){1&t&&(p.ynx(0),p._UZ(1,"app-inventory-list"),p.BQk())}function I(t,i){1&t&&(p.TgZ(0,"div"),p._UZ(1,"i",57),p.TgZ(2,"p"),p._uU(3,"Pilih Gambar"),p.qZA(),p.qZA())}function y(t,i){if(1&t&&(p.TgZ(0,"div"),p._UZ(1,"img",58),p.qZA()),2&t){const t=p.oxw(3);p.xp6(1),p.Q6J("src",t.previewImageProduct1,p.LSH)}}function _(t,i){1&t&&(p.TgZ(0,"div",59),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function N(t,i){1&t&&(p.TgZ(0,"div"),p._UZ(1,"i",57),p.TgZ(2,"p"),p._uU(3,"Pilih Gambar"),p.qZA(),p.qZA())}function w(t,i){if(1&t&&(p.TgZ(0,"div"),p._UZ(1,"img",58),p.qZA()),2&t){const t=p.oxw(3);p.xp6(1),p.Q6J("src",t.previewImageProduct2,p.LSH)}}function C(t,i){1&t&&(p.TgZ(0,"div",59),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function J(t,i){1&t&&(p.TgZ(0,"div"),p._UZ(1,"i",57),p.TgZ(2,"p"),p._uU(3,"Pilih Gambar"),p.qZA(),p.qZA())}function S(t,i){if(1&t&&(p.TgZ(0,"div"),p._UZ(1,"img",58),p.qZA()),2&t){const t=p.oxw(3);p.xp6(1),p.Q6J("src",t.previewImageProduct3,p.LSH)}}function E(t,i){1&t&&(p.TgZ(0,"div",59),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function M(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function F(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function Q(t,i){if(1&t&&(p.TgZ(0,"ng-option",61),p._uU(1),p.qZA()),2&t){const t=i.$implicit;p.Q6J("value",t),p.xp6(1),p.Oqu(t)}}function Y(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function V(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function D(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function O(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"button",62),p.NdJ("click",function(){return p.CHM(t),p.oxw(3).addNewVariant()}),p._UZ(1,"i",63),p._uU(2," Tambah Varian "),p.qZA()}}function G(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"button",64),p.NdJ("click",function(){return p.CHM(t),p.oxw(3).deleteVariant()}),p._UZ(1,"i",65),p._uU(2," Hapus Varian "),p.qZA()}}function B(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function R(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function L(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function H(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function j(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*Minimal harga 10000"),p.qZA())}function z(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function $(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function K(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function W(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function X(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function tt(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function it(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",11),p.TgZ(1,"div",12),p.TgZ(2,"div"),p.TgZ(3,"b"),p._uU(4,"Berat Varian"),p.qZA(),p.qZA(),p.TgZ(5,"small"),p._uU(6," Berat dari varian produk setelah dikemas. Gunakan titik untuk bilangan desimal "),p.qZA(),p.qZA(),p.TgZ(7,"div",14),p.TgZ(8,"div",73),p.TgZ(9,"input",80),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(4).validationService.decimalOnly(i)}),p.qZA(),p.TgZ(10,"div",74),p.TgZ(11,"span",81),p._uU(12,"Kilogram (kg)"),p.qZA(),p.qZA(),p.qZA(),p.YNc(13,X,2,0,"div",34),p.YNc(14,tt,2,0,"div",34),p.qZA(),p.qZA()}if(2&t){const t=p.oxw(),i=t.index,e=t.$implicit;p.xp6(9),p.MGl("id","weight-",i,""),p.xp6(4),p.Q6J("ngIf",e.get("weight").hasError("required")&&(e.get("weight").dirty||e.get("weight").touched)),p.xp6(1),p.Q6J("ngIf",e.get("weight").hasError("pattern"))}}function et(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function rt(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function nt(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function ot(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function at(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function dt(t,i){1&t&&(p.TgZ(0,"div",60),p._uU(1,"*This field is not valid input text"),p.qZA())}function ut(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",11),p.TgZ(1,"div",12),p.TgZ(2,"div"),p.TgZ(3,"b"),p._uU(4,"Ukuran Varian"),p.qZA(),p.qZA(),p.TgZ(5,"small"),p._uU(6," Ukuran dari varian produk setelah dikemas untuk menghitung volume "),p.qZA(),p.qZA(),p.TgZ(7,"div",14),p.TgZ(8,"div",82),p.TgZ(9,"div",15),p.TgZ(10,"div",73),p.TgZ(11,"input",83),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(4).validationService.numberOnly(i)}),p.qZA(),p.TgZ(12,"div",74),p.TgZ(13,"span",84),p._uU(14,"cm"),p.qZA(),p.qZA(),p.qZA(),p.YNc(15,et,2,0,"div",34),p.YNc(16,rt,2,0,"div",34),p.qZA(),p.TgZ(17,"div",15),p.TgZ(18,"div",73),p.TgZ(19,"input",85),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(4).validationService.numberOnly(i)}),p.qZA(),p.TgZ(20,"div",74),p.TgZ(21,"span",86),p._uU(22,"cm"),p.qZA(),p.qZA(),p.qZA(),p.YNc(23,nt,2,0,"div",34),p.YNc(24,ot,2,0,"div",34),p.qZA(),p.TgZ(25,"div",15),p.TgZ(26,"div",73),p.TgZ(27,"input",87),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(4).validationService.numberOnly(i)}),p.qZA(),p.TgZ(28,"div",74),p.TgZ(29,"span",88),p._uU(30,"cm"),p.qZA(),p.qZA(),p.qZA(),p.YNc(31,at,2,0,"div",34),p.YNc(32,dt,2,0,"div",34),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=p.oxw(),i=t.index,e=t.$implicit;p.xp6(11),p.MGl("id","length-",i,""),p.xp6(4),p.Q6J("ngIf",e.get("length").hasError("required")&&(e.get("length").dirty||e.get("length").touched)),p.xp6(1),p.Q6J("ngIf",e.get("length").hasError("pattern")),p.xp6(3),p.MGl("id","width-",i,""),p.xp6(4),p.Q6J("ngIf",e.get("width").hasError("required")&&(e.get("width").dirty||e.get("width").touched)),p.xp6(1),p.Q6J("ngIf",e.get("width").hasError("pattern")),p.xp6(3),p.MGl("id","height-",i,""),p.xp6(4),p.Q6J("ngIf",e.get("height").hasError("required")&&(e.get("height").dirty||e.get("height").touched)),p.xp6(1),p.Q6J("ngIf",e.get("height").hasError("pattern"))}}function ct(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",66),p.TgZ(1,"div",67),p.TgZ(2,"div",68),p.TgZ(3,"div",69),p.TgZ(4,"div",70),p.TgZ(5,"h4",71),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"div",11),p.TgZ(8,"div",12),p.TgZ(9,"div"),p.TgZ(10,"b"),p._uU(11,"Nama Varian"),p.qZA(),p.qZA(),p.TgZ(12,"small"),p._uU(13," Varian nama dari produk yang Anda jual "),p.qZA(),p.qZA(),p.TgZ(14,"div",14),p.TgZ(15,"div",15),p._UZ(16,"input",72),p.YNc(17,B,2,0,"div",34),p.YNc(18,R,2,0,"div",34),p.qZA(),p.qZA(),p.qZA(),p.TgZ(19,"div",11),p.TgZ(20,"div",12),p.TgZ(21,"div"),p.TgZ(22,"b"),p._uU(23,"Harga Varian"),p.qZA(),p.qZA(),p.TgZ(24,"small"),p._uU(25," Harga dari varian produk yang Anda jual. Harga minimum Rp 10.000, tanpa titik "),p.qZA(),p.qZA(),p.TgZ(26,"div",14),p.TgZ(27,"div",73),p.TgZ(28,"div",74),p.TgZ(29,"span",75),p._uU(30,"Rp"),p.qZA(),p.qZA(),p.TgZ(31,"input",76),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(3).validationService.numberOnly(i)}),p.qZA(),p.qZA(),p.YNc(32,L,2,0,"div",34),p.YNc(33,H,2,0,"div",34),p.YNc(34,j,2,0,"div",34),p.qZA(),p.qZA(),p.TgZ(35,"div",11),p.TgZ(36,"div",12),p.TgZ(37,"div"),p.TgZ(38,"b"),p._uU(39,"Stok Varian"),p.qZA(),p.qZA(),p.TgZ(40,"small"),p._uU(41," Jumlah varian produk yang dijual "),p.qZA(),p.qZA(),p.TgZ(42,"div",14),p.TgZ(43,"input",77),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(3).validationService.numberOnly(i)}),p.qZA(),p.YNc(44,z,2,0,"div",34),p.YNc(45,$,2,0,"div",34),p.qZA(),p.qZA(),p.TgZ(46,"div",11),p.TgZ(47,"div",12),p.TgZ(48,"div"),p.TgZ(49,"b"),p._uU(50,"Minimal Pembelian"),p.qZA(),p.qZA(),p.TgZ(51,"small"),p._uU(52," Minimal pembelian varian produk "),p.qZA(),p.qZA(),p.TgZ(53,"div",14),p.TgZ(54,"input",78),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(3).validationService.numberOnly(i)}),p.qZA(),p.YNc(55,K,2,0,"div",34),p.YNc(56,W,2,0,"div",34),p.qZA(),p.qZA(),p.YNc(57,it,15,3,"div",79),p.YNc(58,ut,33,9,"div",79),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=i.$implicit,e=i.index,r=p.oxw(3);p.Q6J("formGroupName",e),p.xp6(6),p.hij("Varian ",e+1,""),p.xp6(10),p.MGl("id","color-",e,""),p.xp6(1),p.Q6J("ngIf",t.get("color").hasError("required")&&(t.get("color").dirty||t.get("color").touched)),p.xp6(1),p.Q6J("ngIf",t.get("color").hasError("pattern")),p.xp6(13),p.MGl("id","price-",e,""),p.xp6(1),p.Q6J("ngIf",t.get("price").hasError("required")&&(t.get("price").dirty||t.get("price").touched)),p.xp6(1),p.Q6J("ngIf",t.get("price").hasError("pattern")),p.xp6(1),p.Q6J("ngIf",t.get("price").hasError("min")),p.xp6(9),p.MGl("id","stock-",e,""),p.xp6(1),p.Q6J("ngIf",t.get("stock").hasError("required")&&(t.get("stock").dirty||t.get("stock").touched)),p.xp6(1),p.Q6J("ngIf",t.get("stock").hasError("pattern")),p.xp6(9),p.MGl("id","minimumOrder-",e,""),p.xp6(1),p.Q6J("ngIf",t.get("minimumOrder").hasError("required")&&(t.get("minimumOrder").dirty||t.get("minimumOrder").touched)),p.xp6(1),p.Q6J("ngIf",t.get("minimumOrder").hasError("pattern")),p.xp6(1),p.Q6J("ngIf",!0!==r.addProductForm.get("digitalGoods").value),p.xp6(1),p.Q6J("ngIf",!0!==r.addProductForm.get("digitalGoods").value)}}function gt(t,i){if(1&t){const t=p.EpF();p.ynx(0),p.TgZ(1,"div",5),p.TgZ(2,"div",6),p.TgZ(3,"h3"),p._uU(4,"Tambah Produk"),p.qZA(),p.TgZ(5,"p"),p._uU(6,"Tambahkan produk dan mulailah untuk menjual produk Anda"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"div",7),p.TgZ(8,"div",8),p.TgZ(9,"div",5),p.TgZ(10,"div",9),p.TgZ(11,"form",10),p.TgZ(12,"div",11),p.TgZ(13,"div",12),p.TgZ(14,"div"),p.TgZ(15,"b"),p._uU(16,"Tipe Produk"),p.qZA(),p.qZA(),p.TgZ(17,"small"),p._uU(18,"Pilih jika Anda ingin menambahkan "),p.TgZ(19,"span",13),p._uU(20," produk digital "),p.qZA(),p._uU(21," yang tidak membutuhkan pengiriman"),p.qZA(),p.qZA(),p.TgZ(22,"div",14),p.TgZ(23,"div",15),p.TgZ(24,"div",16),p.TgZ(25,"input",17),p.NdJ("change",function(){return p.CHM(t),p.oxw(2).validateDigitalGoods()}),p.qZA(),p.TgZ(26,"label",18),p._uU(27,"Produk fisik"),p.qZA(),p.qZA(),p.TgZ(28,"div",19),p.TgZ(29,"input",20),p.NdJ("change",function(){return p.CHM(t),p.oxw(2).validateDigitalGoods()}),p.qZA(),p.TgZ(30,"label",21),p._uU(31,"Produk digital"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(32,"div",11),p.TgZ(33,"div",12),p.TgZ(34,"div"),p.TgZ(35,"b"),p._uU(36,"Foto Produk"),p.qZA(),p.qZA(),p.TgZ(37,"small"),p._uU(38," Maksimal ukuran gambar 1 MB atau minimum 300 x 300 px. Format gambar .jpg .jpeg atau .png "),p.qZA(),p.qZA(),p.TgZ(39,"div",14),p.TgZ(40,"div",15),p.TgZ(41,"div",22),p.TgZ(42,"div",23),p.TgZ(43,"div",24),p.TgZ(44,"div",25),p.TgZ(45,"label",26),p.YNc(46,I,4,0,"div",4),p.YNc(47,y,2,1,"div",4),p.qZA(),p.TgZ(48,"input",27),p.NdJ("change",function(i){return p.CHM(t),p.oxw(2).fileProgress(i,"previewImageProduct1")}),p.qZA(),p.qZA(),p.qZA(),p.YNc(49,_,2,0,"div",28),p.qZA(),p.TgZ(50,"div",23),p.TgZ(51,"div",24),p.TgZ(52,"div",25),p.TgZ(53,"label",29),p.YNc(54,N,4,0,"div",4),p.YNc(55,w,2,1,"div",4),p.qZA(),p.TgZ(56,"input",30),p.NdJ("change",function(i){return p.CHM(t),p.oxw(2).fileProgress(i,"previewImageProduct2")}),p.qZA(),p.qZA(),p.qZA(),p.YNc(57,C,2,0,"div",28),p.qZA(),p.TgZ(58,"div",23),p.TgZ(59,"div",24),p.TgZ(60,"div",25),p.TgZ(61,"label",31),p.YNc(62,J,4,0,"div",4),p.YNc(63,S,2,1,"div",4),p.qZA(),p.TgZ(64,"input",32),p.NdJ("change",function(i){return p.CHM(t),p.oxw(2).fileProgress(i,"previewImageProduct3")}),p.qZA(),p.qZA(),p.qZA(),p.YNc(65,E,2,0,"div",28),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(66,"div",11),p.TgZ(67,"div",12),p.TgZ(68,"div"),p.TgZ(69,"b"),p._uU(70,"Nama Produk"),p.qZA(),p.qZA(),p.TgZ(71,"small"),p._uU(72," Cantumkan maksimal 238 karakter terdiri dari jenis produk, merek, dan keterangan seperti warna, bahan, atau tipe "),p.qZA(),p.qZA(),p.TgZ(73,"div",14),p._UZ(74,"input",33),p.YNc(75,M,2,0,"div",34),p.YNc(76,F,2,0,"div",34),p.qZA(),p.qZA(),p._UZ(77,"hr",35),p.TgZ(78,"div",11),p.TgZ(79,"div",12),p.TgZ(80,"div"),p.TgZ(81,"b"),p._uU(82,"Kategori"),p.qZA(),p.qZA(),p.TgZ(83,"small"),p._uU(84," Pilih kategori yang sesuai dengan produk Anda "),p.qZA(),p.qZA(),p.TgZ(85,"div",14),p.TgZ(86,"ng-select",36),p.YNc(87,Q,2,2,"ng-option",37),p.qZA(),p.YNc(88,Y,2,0,"div",34),p.qZA(),p.qZA(),p.TgZ(89,"div",11),p.TgZ(90,"div",12),p.TgZ(91,"div"),p.TgZ(92,"b"),p._uU(93,"Kondisi"),p.qZA(),p.qZA(),p.TgZ(94,"small"),p._uU(95," Pilih kondisi produk yang dijual "),p.qZA(),p.qZA(),p.TgZ(96,"div",14),p.TgZ(97,"div",15),p.TgZ(98,"div",16),p._UZ(99,"input",38),p.TgZ(100,"label",39),p._uU(101,"Baru"),p.qZA(),p.qZA(),p.TgZ(102,"div",19),p._UZ(103,"input",40),p.TgZ(104,"label",41),p._uU(105,"Bekas"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(106,"div",11),p.TgZ(107,"div",12),p.TgZ(108,"div"),p.TgZ(109,"b"),p._uU(110,"Deskripsi Produk"),p.qZA(),p.qZA(),p.TgZ(111,"small"),p._uU(112," Pastikan deskripsi produk memuat spesifikasi, ukuran, bahan, masa berlaku, dan lainnya. Cantumkan maksimal 260 karakter agar pembeli semakin mudah mengerti produk Anda "),p.qZA(),p.qZA(),p.TgZ(113,"div",14),p.TgZ(114,"div",15),p._UZ(115,"textarea",42),p.YNc(116,V,2,0,"div",34),p.YNc(117,D,2,0,"div",34),p.qZA(),p.qZA(),p.qZA(),p.TgZ(118,"div",11),p.TgZ(119,"div",43),p.TgZ(120,"h4",44),p._uU(121,"Informasi Penjualan"),p.qZA(),p.qZA(),p.TgZ(122,"div",45),p.YNc(123,O,3,0,"button",46),p.YNc(124,G,3,0,"button",47),p.qZA(),p.qZA(),p.TgZ(125,"div",48),p.YNc(126,ct,59,17,"div",49),p.qZA(),p.TgZ(127,"div",35),p._UZ(128,"hr",50),p.qZA(),p.TgZ(129,"div",5),p.TgZ(130,"div",51),p.TgZ(131,"div",5),p.TgZ(132,"div",52),p.TgZ(133,"button",53),p.NdJ("click",function(){return p.CHM(t),p.oxw(2).changePage("list")}),p._UZ(134,"i",54),p._uU(135," BATAL "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(136,"div",51),p.TgZ(137,"div",5),p._UZ(138,"div",55),p.TgZ(139,"div",23),p.TgZ(140,"button",56),p.NdJ("click",function(){return p.CHM(t),p.oxw(2).submitAddProduct("list")}),p._uU(141,"SIMPAN"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.BQk()}if(2&t){const t=p.oxw(2);p.xp6(11),p.Q6J("formGroup",t.addProductForm),p.xp6(8),p.Q6J("autoClose","inside"),p.xp6(6),p.Q6J("value",!1),p.xp6(4),p.Q6J("value",!0),p.xp6(17),p.Q6J("ngIf",!t.previewImageProduct1),p.xp6(1),p.Q6J("ngIf",t.previewImageProduct1),p.xp6(2),p.Q6J("ngIf",t.addProductForm.get("image1").hasError("required")&&(t.addProductForm.get("image1").dirty||t.addProductForm.get("image1").touched)),p.xp6(5),p.Q6J("ngIf",!t.previewImageProduct2),p.xp6(1),p.Q6J("ngIf",t.previewImageProduct2),p.xp6(2),p.Q6J("ngIf",t.addProductForm.get("image2").hasError("required")&&(t.addProductForm.get("image2").dirty||t.addProductForm.get("image2").touched)),p.xp6(5),p.Q6J("ngIf",!t.previewImageProduct3),p.xp6(1),p.Q6J("ngIf",t.previewImageProduct3),p.xp6(2),p.Q6J("ngIf",t.addProductForm.get("image3").hasError("required")&&(t.addProductForm.get("image3").dirty||t.addProductForm.get("image3").touched)),p.xp6(10),p.Q6J("ngIf",t.addProductForm.get("name").hasError("required")&&(t.addProductForm.get("name").dirty||t.addProductForm.get("name").touched)),p.xp6(1),p.Q6J("ngIf",t.addProductForm.get("name").hasError("pattern")),p.xp6(10),p.Q6J("multiple",!1),p.xp6(1),p.Q6J("ngForOf",t.listCategoryProduct),p.xp6(1),p.Q6J("ngIf",t.addProductForm.get("category").hasError("required")&&(t.addProductForm.get("category").dirty||t.addProductForm.get("category").touched)),p.xp6(11),p.Q6J("value",t.productCondition.New),p.xp6(4),p.Q6J("value",t.productCondition.Used),p.xp6(13),p.Q6J("ngIf",t.addProductForm.get("description").hasError("required")&&(t.addProductForm.get("description").dirty||t.addProductForm.get("description").touched)),p.xp6(1),p.Q6J("ngIf",t.addProductForm.get("description").hasError("pattern")),p.xp6(6),p.Q6J("ngIf",t.variants.length<5),p.xp6(1),p.Q6J("ngIf",t.variants.length>1),p.xp6(2),p.Q6J("ngForOf",t.addProductForm.get("variants").controls),p.xp6(14),p.Q6J("disabled",!t.addProductForm.valid)}}function st(t,i){if(1&t&&(p.YNc(0,P,2,0,"ng-container",4),p.YNc(1,gt,142,26,"ng-container",4)),2&t){const t=p.oxw();p.Q6J("ngIf","list"===t.pageName),p.xp6(1),p.Q6J("ngIf","add"===t.pageName)}}let lt=(()=>{class t{constructor(t,i,e,r,n,u,c){this.formBuilder=t,this.requestService=i,this.apiModelTranslatorService=e,this.alertService=r,this.errorService=n,this.validationService=u,this.router=c,this.loading=!0,this.user=new o.n,this.listCategoryProduct=[],this.pageName="",this.apiGetProductCategory=a.N.apiUrl+d.b.PRODUCT_CATEGORY,this.apiSubmitProduct=a.N.apiUrl+d.b.PRODUCT,this.productCondition=x.n}ngOnInit(){this.pageName="add",this.initLoad(),this.form()}initLoad(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.getListCategoryProduct(),this.user=this.requestService.getUserToken(),this.loading=!1})}form(){this.addProductForm=this.formBuilder.group({name:[null,[Z.kI.required,Z.kI.pattern]],category:[null,[Z.kI.required]],digitalGoods:[null,[Z.kI.required]],description:[null,[Z.kI.required,Z.kI.pattern]],image1:[null,[Z.kI.required]],image2:[null],image3:[null],condition:[null,[Z.kI.required]],variants:this.formBuilder.array([this.initVariantsProduct()])})}initVariantsProduct(){return this.formBuilder.group({color:[null,[Z.kI.required,Z.kI.pattern]],minimumOrder:[null,[Z.kI.required,Z.kI.pattern]],length:[null,[Z.kI.required,Z.kI.pattern]],width:[null,[Z.kI.required,Z.kI.pattern]],height:[null,[Z.kI.required,Z.kI.pattern]],stock:[null,[Z.kI.required,Z.kI.pattern]],price:[null,[Z.kI.required,Z.kI.pattern,Z.kI.min(1e4)]],weight:[null,[Z.kI.required,Z.kI.pattern]]})}getListCategoryProduct(){this.requestService.get(this.apiGetProductCategory,null).subscribe(t=>{this.listCategoryProduct=t},t=>{this.errorService.getErrorApi(t)})}validateDigitalGoods(){this.variants.controls.forEach((t,i)=>{!0===this.addProductForm.get("digitalGoods").value?(t.patchValue({width:1}),t.patchValue({height:1}),t.patchValue({length:1}),t.patchValue({weight:1})):(t.patchValue({width:""}),t.patchValue({height:""}),t.patchValue({length:""}),t.patchValue({weight:""}))})}submitAddProduct(t){return(0,n.mG)(this,void 0,void 0,function*(){if(this.addProductForm.valid){let i=null;k().fire({title:"Tambahkan Produk Baru?",text:"Produk akan ditampilkan dan siap untuk dijual ke Pelanggan ?",showCancelButton:!0,cancelButtonText:"BATAL",cancelButtonColor:"#666666",reverseButtons:!0,confirmButtonColor:"#E1251B",confirmButtonText:"TAMBAHKAN",showLoaderOnConfirm:!0,customClass:{title:"swal2-title-modal-medium"},preConfirm:()=>(0,n.mG)(this,void 0,void 0,function*(){yield this.requestService.post(this.apiSubmitProduct,null,this.apiModelTranslatorService.camelToSnakeCase(this.addProductForm.value)).toPromise().then(t=>(0,n.mG)(this,void 0,void 0,function*(){i=t.product.detail.uuid}),t=>{this.errorService.getErrorApi(t)}),yield this.uploadImageProduct(i,this.imageToUpload1,"0"),null!=this.imageToUpload2&&(yield this.uploadImageProduct(i,this.imageToUpload2,"1")),null!=this.imageToUpload3&&(yield this.uploadImageProduct(i,this.imageToUpload3,"2")),this.changePage(t),this.alertService.setProps("Success! Add Product",!1)})})}})}uploadImageProduct(t,i,e){return(0,n.mG)(this,void 0,void 0,function*(){return this.requestService.uploadSingleFile("image",this.apiSubmitProduct+"/"+t+d.b.PRODUCT_IMAGES,i,e).toPromise().then(t=>{},t=>{this.errorService.getErrorApi(t)})})}changePage(t){this.router.navigate([c.q.ROUTING_INVENTORY]),this.pageName=t}fileProgress(t,i){this.fileData=t.target.files[0],void 0!==this.fileData&&this.preview(i)}preview(t){var i;let e=null===(i=this.fileData)||void 0===i?void 0:i.type,r=new FileReader;r.readAsDataURL(this.fileData),r.onload=i=>{let n=new Image;n.src=r.result,n.onload=()=>{const i=n.naturalHeight,o=n.naturalWidth;"previewImageProduct1"===t?null===e.match("image.*")?(this.addProductForm.patchValue({image1:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.addProductForm.patchValue({image1:null}),this.alertService.setProps("Size more than 1 MB",!0)):i<300||o<300?(this.addProductForm.patchValue({image1:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct1=r.result,this.imageToUpload1=this.fileData):"previewImageProduct2"===t?null===e.match("image.*")?(this.addProductForm.patchValue({image2:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.addProductForm.patchValue({image2:null}),this.alertService.setProps("Size more than 1 MB",!0)):i<300||o<300?(this.addProductForm.patchValue({image2:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct2=r.result,this.imageToUpload2=this.fileData):"previewImageProduct3"===t&&(null===e.match("image.*")?(this.addProductForm.patchValue({image3:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.addProductForm.patchValue({image3:null}),this.alertService.setProps("Size more than 1 MB",!0)):i<300||o<300?(this.addProductForm.patchValue({image3:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct3=r.result,this.imageToUpload3=this.fileData))}}}get variants(){return this.addProductForm.get("variants")}addNewVariant(){this.variants.length<5&&(this.variants.push(this.initVariantsProduct()),this.validateDigitalGoods())}deleteVariant(){this.variants.removeAt(this.variants.length-1)}}return t.\u0275fac=function(i){return new(i||t)(p.Y36(Z.qu),p.Y36(m.s),p.Y36(h.g),p.Y36(v.c),p.Y36(f.T),p.Y36(b.R),p.Y36(A.F0))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-inventory-add"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loaded",""],[1,"center"],["role","status",1,"spinner-border","text-primary","spinner-sm","mr-5"],[4,"ngIf"],[1,"row"],[1,"form-group","col-md-12","page-header"],[1,"card"],[1,"card-body"],[1,"col-12"],["id","addProductForm",1,"pt-10",3,"formGroup"],[1,"row","mb-4"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["ngbPopover","Contoh: Voucher Pulsa, Token Listrik, Voucher Belanja, Game, dll, yang tidak memerlukan pengiriman","popoverTitle","Produk Digital",1,"text-primary",2,"cursor","pointer",3,"autoClose"],[1,"col-12","col-md-9"],[1,"form-group"],[1,"form-check","form-check-inline","mr-5"],["type","radio","name","digitalGoods","id","physicalGoods","formControlName","digitalGoods",1,"form-check-input",3,"value","change"],["for","physicalGoods",1,"form-check-label"],[1,"form-check","form-check-inline"],["type","radio","name","digitalGoods","id","digitalGoods","formControlName","digitalGoods",1,"form-check-input",3,"value","change"],["for","digitalGoods",1,"form-check-label"],[1,"row","mt-3","px-3"],[1,"col-12","col-md-4"],[1,"form-group","d-flex","justify-content-center"],[1,"image-upload","d-flex","justify-content-center",2,"border-style","dashed","width","220px","height","220px"],["for","file-input1",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input1","type","file","name","image","accept","image/png, image/jpg, image/jpeg","formControlName","image1",3,"change"],["class","form-group d-flex justify-content-center text-danger",4,"ngIf"],["for","file-input2",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input2","type","file","name","image","accept","image/png, image/jpg, image/jpeg","formControlName","image2",3,"change"],["for","file-input3",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input3","type","file","name","image","accept","image/png, image/jpg, image/jpeg","formControlName","image3",3,"change"],["formControlName","name","id","name","placeholder","Baju lengan panjang","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$","maxlength","238",1,"form-control","dk-text-input"],["class","text-danger",4,"ngIf"],[1,"row","p-3","my-2"],["formControlName","category","id","category","placeholder","Pilih kategori produk",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["type","radio","id","conditionNew","formControlName","condition",3,"value"],["for","conditionNew",1,"form-check-label"],["type","radio","id","conditionUsed","formControlName","condition",3,"value"],["for","conditionUsed",1,"form-check-label"],["formControlName","description","id","description","placeholder","Deskripsi produk anda","required","","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$","rows","4","maxlength","260",1,"form-control","dk-text-input"],[1,"col-3",2,"margin-bottom","auto","margin-top","auto"],[2,"margin-bottom","auto","margin-top","auto"],[1,"col-9"],["class","btn btn-secondary btn-sm ml-auto","style","float: right","type","button","id","addVariant",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm ml-auto mr-3","style","float: right","type","button","id","deleteVariant",3,"click",4,"ngIf"],["formArrayName","variants"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"m-0"],[1,"col-12","col-md-6"],[1,"col-12","col-md-6","mb-3","mb-md-0"],["id","backButton","type","button",1,"btn","btn-secondary","btn-block","ml-auto",3,"click"],[1,"fa","fa-arrow-left","in-icon"],[1,"col-12","col-md-8","mb-3","mb-md-0"],["id","save","type","submit",1,"btn","btn-primary","btn-block",3,"disabled","click"],[1,"fas","fa-plus-circle","text-primary"],[1,"image-container",3,"src"],[1,"form-group","d-flex","justify-content-center","text-danger"],[1,"text-danger"],[3,"value"],["type","button","id","addVariant",1,"btn","btn-secondary","btn-sm","ml-auto",2,"float","right",3,"click"],[1,"fa","fa-plus","in-icon"],["type","button","id","deleteVariant",1,"btn","btn-secondary","btn-sm","ml-auto","mr-3",2,"float","right",3,"click"],[1,"fa","fa-minus","in-icon"],[3,"formGroupName"],[1,"row","px-3","mb-3"],[1,"col-12","rounded","p-3",2,"border","1px dashed #cccccc"],[1,"row","mb-2"],[1,"d-flex","px-3","mb-3","w-100","align-items-center"],[1,"d-inline-block","m-0"],["formControlName","color","placeholder","Merah","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$",1,"form-control","dk-text-input",3,"id"],[1,"input-group"],[1,"input-group-append"],["id","currency",1,"input-group-text","dk-span-group"],["formControlName","price","placeholder","10000","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["formControlName","stock","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["formControlName","minimumOrder","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["class","row mb-4",4,"ngIf"],["formControlName","weight","placeholder","0.1","required","","type","text","pattern","^[0-9]+(\\.[0-9]{1,2})?$",1,"form-control","dk-text-input",3,"id","keypress"],["id","unit",1,"input-group-text","dk-span-group"],[1,"d-flex",2,"gap","12px"],["formControlName","length","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","lengthUnit",1,"input-group-text","dk-span-group"],["formControlName","width","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","widthUnit",1,"input-group-text","dk-span-group"],["formControlName","height","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","heightUnit",1,"input-group-text","dk-span-group"]],template:function(t,i){if(1&t&&(p.YNc(0,U,3,0,"div",0),p.YNc(1,st,2,2,"ng-template",null,1,p.W1O)),2&t){const t=p.MAs(2);p.Q6J("ngIf",i.loading)("ngIfElse",t)}},styles:[".center[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:fixed;top:0;bottom:0;left:0;right:0;margin:auto}img.image-container[_ngcontent-%COMP%]{width:100%;height:180px;-o-object-fit:contain;object-fit:contain}"]}),t})();var pt=e(66);function Zt(t,i){1&t&&(p.TgZ(0,"div"),p.TgZ(1,"div",2),p._UZ(2,"div",3),p.qZA(),p.qZA())}function mt(t,i){1&t&&(p.ynx(0),p._UZ(1,"app-inventory-list"),p.BQk())}function ht(t,i){1&t&&(p.TgZ(0,"div",58),p.TgZ(1,"div",59),p.TgZ(2,"div",5),p._UZ(3,"i",60),p.TgZ(4,"div",61),p.TgZ(5,"strong"),p._uU(6,"Produk dalam proses verifikasi "),p.qZA(),p._UZ(7,"br"),p.TgZ(8,"span"),p._uU(9,"Produk anda dalam proses verifikasi oleh tim DOKU, proses verifikasi dapat berlangsung dalam 1-2 jam."),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA())}function vt(t,i){if(1&t&&(p.TgZ(0,"div",62),p.TgZ(1,"div",59),p.TgZ(2,"div",5),p._UZ(3,"i",63),p.TgZ(4,"div",61),p.TgZ(5,"strong"),p._uU(6,"Mohon perbarui detail produk Anda "),p.qZA(),p._UZ(7,"br"),p.TgZ(8,"span"),p._uU(9),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=p.oxw(3);p.xp6(9),p.Oqu("Alasan penolakan produk: "+t.productDetail.notes)}}function ft(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",64),p.TgZ(1,"div",59),p.TgZ(2,"div",5),p._UZ(3,"i",65),p.TgZ(4,"div",61),p.TgZ(5,"strong"),p._uU(6,"Produk Anda sudah aktif dan live di website Anda "),p.qZA(),p._UZ(7,"br"),p.TgZ(8,"span",66),p.NdJ("click",function(){return p.CHM(t),p.oxw(3).openProductLinkDetail()}),p._uU(9,"Lihat Produk Live "),p._UZ(10,"i",67),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}}function Tt(t,i){1&t&&(p.TgZ(0,"div",68),p.TgZ(1,"div",59),p.TgZ(2,"div",5),p._UZ(3,"i",69),p.TgZ(4,"div",61),p.TgZ(5,"strong"),p._uU(6,"Produk dalam status nonaktif "),p.qZA(),p._UZ(7,"br"),p.TgZ(8,"span"),p._uU(9,"Segera aktifkan produk Anda agar dapat live di website Anda "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA())}function At(t,i){1&t&&(p.TgZ(0,"div"),p._UZ(1,"i",70),p.TgZ(2,"p"),p._uU(3,"Pilih Gambar"),p.qZA(),p.qZA())}function qt(t,i){if(1&t&&(p.TgZ(0,"div"),p._UZ(1,"img",71),p.qZA()),2&t){const t=p.oxw(3);p.xp6(1),p.Q6J("src",t.previewImageProduct1,p.LSH)}}function kt(t,i){1&t&&(p.TgZ(0,"div",72),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function xt(t,i){1&t&&(p.TgZ(0,"div"),p._UZ(1,"i",70),p.TgZ(2,"p"),p._uU(3,"Pilih Gambar"),p.qZA(),p.qZA())}function bt(t,i){if(1&t&&(p.TgZ(0,"div"),p._UZ(1,"img",71),p.qZA()),2&t){const t=p.oxw(3);p.xp6(1),p.Q6J("src",t.previewImageProduct2,p.LSH)}}function Ut(t,i){1&t&&(p.TgZ(0,"div"),p._UZ(1,"i",70),p.TgZ(2,"p"),p._uU(3,"Pilih Gambar"),p.qZA(),p.qZA())}function Pt(t,i){if(1&t&&(p.TgZ(0,"div"),p._UZ(1,"img",71),p.qZA()),2&t){const t=p.oxw(3);p.xp6(1),p.Q6J("src",t.previewImageProduct3,p.LSH)}}function It(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function yt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function _t(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*Maksimal 238 karakter"),p.qZA())}function Nt(t,i){if(1&t&&(p.TgZ(0,"ng-option",74),p._uU(1),p.qZA()),2&t){const t=i.$implicit;p.Q6J("value",t),p.xp6(1),p.Oqu(t)}}function wt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function Ct(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function Jt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function St(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",90),p.TgZ(1,"input",91),p.NdJ("change",function(){p.CHM(t);const i=p.oxw(),e=i.$implicit,r=i.index;return p.oxw(3).inactiveVariant(e.get("uiId").value,"swtVariant-"+r)}),p.qZA(),p.TgZ(2,"label",92),p._uU(3,"Aktif"),p.qZA(),p.qZA()}if(2&t){const t=p.oxw(),i=t.index,e=t.$implicit;p.xp6(1),p.s9C("id","swtVariant-"+i),p.Q6J("checked",e.get("active").value),p.xp6(1),p.s9C("for","swtVariant-"+i)}}function Et(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function Mt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function Ft(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function Qt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function Yt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*Minimal harga 10000"),p.qZA())}function Vt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function Dt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function Ot(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function Gt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function Bt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function Rt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function Lt(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",15),p.TgZ(1,"div",16),p.TgZ(2,"div"),p.TgZ(3,"b"),p._uU(4,"Berat Varian"),p.qZA(),p.qZA(),p.TgZ(5,"small"),p._uU(6," Berat dari varian produk setelah dikemas. Gunakan titik untuk bilangan desimal "),p.qZA(),p.qZA(),p.TgZ(7,"div",18),p.TgZ(8,"div",83),p.TgZ(9,"input",93),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(4).validationService.decimalOnly(i)}),p.qZA(),p.TgZ(10,"div",84),p.TgZ(11,"span",94),p._uU(12,"Kilogram (kg)"),p.qZA(),p.qZA(),p.qZA(),p.YNc(13,Bt,2,0,"div",38),p.YNc(14,Rt,2,0,"div",38),p.qZA(),p.qZA()}if(2&t){const t=p.oxw(),i=t.index,e=t.$implicit;p.xp6(9),p.MGl("id","weight-",i,""),p.xp6(4),p.Q6J("ngIf",e.get("weight").hasError("required")&&(e.get("weight").dirty||e.get("weight").touched)),p.xp6(1),p.Q6J("ngIf",e.get("weight").hasError("pattern"))}}function Ht(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function jt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function zt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function $t(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function Kt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is cannot be left empty"),p.qZA())}function Wt(t,i){1&t&&(p.TgZ(0,"div",73),p._uU(1,"*This field is not valid input text"),p.qZA())}function Xt(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",15),p.TgZ(1,"div",16),p.TgZ(2,"div"),p.TgZ(3,"b"),p._uU(4,"Ukuran Varian"),p.qZA(),p.qZA(),p.TgZ(5,"small"),p._uU(6," Ukuran dari varian produk setelah dikemas untuk menghitung volume "),p.qZA(),p.qZA(),p.TgZ(7,"div",18),p.TgZ(8,"div",95),p.TgZ(9,"div",19),p.TgZ(10,"div",83),p.TgZ(11,"input",96),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(4).validationService.numberOnly(i)}),p.qZA(),p.TgZ(12,"div",84),p.TgZ(13,"span",97),p._uU(14,"cm"),p.qZA(),p.qZA(),p.qZA(),p.YNc(15,Ht,2,0,"div",38),p.YNc(16,jt,2,0,"div",38),p.qZA(),p.TgZ(17,"div",19),p.TgZ(18,"div",83),p.TgZ(19,"input",98),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(4).validationService.numberOnly(i)}),p.qZA(),p.TgZ(20,"div",84),p.TgZ(21,"span",99),p._uU(22,"cm"),p.qZA(),p.qZA(),p.qZA(),p.YNc(23,zt,2,0,"div",38),p.YNc(24,$t,2,0,"div",38),p.qZA(),p.TgZ(25,"div",19),p.TgZ(26,"div",83),p.TgZ(27,"input",100),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(4).validationService.numberOnly(i)}),p.qZA(),p.TgZ(28,"div",84),p.TgZ(29,"span",101),p._uU(30,"cm"),p.qZA(),p.qZA(),p.qZA(),p.YNc(31,Kt,2,0,"div",38),p.YNc(32,Wt,2,0,"div",38),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=p.oxw(),i=t.index,e=t.$implicit;p.xp6(11),p.MGl("id","length-",i,""),p.xp6(4),p.Q6J("ngIf",e.get("length").hasError("required")&&(e.get("length").dirty||e.get("length").touched)),p.xp6(1),p.Q6J("ngIf",e.get("length").hasError("pattern")),p.xp6(3),p.MGl("id","width-",i,""),p.xp6(4),p.Q6J("ngIf",e.get("width").hasError("required")&&(e.get("width").dirty||e.get("width").touched)),p.xp6(1),p.Q6J("ngIf",e.get("width").hasError("pattern")),p.xp6(3),p.MGl("id","height-",i,""),p.xp6(4),p.Q6J("ngIf",e.get("height").hasError("required")&&(e.get("height").dirty||e.get("height").touched)),p.xp6(1),p.Q6J("ngIf",e.get("height").hasError("pattern"))}}function ti(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",75),p.TgZ(1,"div",76),p.TgZ(2,"div",77),p.TgZ(3,"div",78),p.TgZ(4,"div",79),p.TgZ(5,"h4",80),p._uU(6),p.qZA(),p.YNc(7,St,4,3,"div",81),p.qZA(),p.qZA(),p.TgZ(8,"div",15),p.TgZ(9,"div",16),p.TgZ(10,"div"),p.TgZ(11,"b"),p._uU(12,"Nama Varian"),p.qZA(),p.qZA(),p.TgZ(13,"small"),p._uU(14," Varian nama dari produk yang Anda jual "),p.qZA(),p.qZA(),p.TgZ(15,"div",18),p.TgZ(16,"div",19),p._UZ(17,"input",82),p.YNc(18,Et,2,0,"div",38),p.YNc(19,Mt,2,0,"div",38),p.qZA(),p.qZA(),p.qZA(),p.TgZ(20,"div",15),p.TgZ(21,"div",16),p.TgZ(22,"div"),p.TgZ(23,"b"),p._uU(24,"Harga Varian"),p.qZA(),p.qZA(),p.TgZ(25,"small"),p._uU(26," Harga dari varian produk yang Anda jual. Harga minimum Rp 10.000, tanpa titik "),p.qZA(),p.qZA(),p.TgZ(27,"div",18),p.TgZ(28,"div",83),p.TgZ(29,"div",84),p.TgZ(30,"span",85),p._uU(31,"Rp"),p.qZA(),p.qZA(),p.TgZ(32,"input",86),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(3).validationService.numberOnly(i)}),p.qZA(),p.qZA(),p.YNc(33,Ft,2,0,"div",38),p.YNc(34,Qt,2,0,"div",38),p.YNc(35,Yt,2,0,"div",38),p.qZA(),p.qZA(),p.TgZ(36,"div",15),p.TgZ(37,"div",16),p.TgZ(38,"div"),p.TgZ(39,"b"),p._uU(40,"Stok Varian"),p.qZA(),p.qZA(),p.TgZ(41,"small"),p._uU(42," Jumlah varian produk yang dijual "),p.qZA(),p.qZA(),p.TgZ(43,"div",18),p.TgZ(44,"input",87),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(3).validationService.numberOnly(i)}),p.qZA(),p.YNc(45,Vt,2,0,"div",38),p.YNc(46,Dt,2,0,"div",38),p.qZA(),p.qZA(),p.TgZ(47,"div",15),p.TgZ(48,"div",16),p.TgZ(49,"div"),p.TgZ(50,"b"),p._uU(51,"Minimal Pembelian"),p.qZA(),p.qZA(),p.TgZ(52,"small"),p._uU(53," Minimal pembelian varian produk "),p.qZA(),p.qZA(),p.TgZ(54,"div",18),p.TgZ(55,"input",88),p.NdJ("keypress",function(i){return p.CHM(t),p.oxw(3).validationService.numberOnly(i)}),p.qZA(),p.YNc(56,Ot,2,0,"div",38),p.YNc(57,Gt,2,0,"div",38),p.qZA(),p.qZA(),p.YNc(58,Lt,15,3,"div",89),p.YNc(59,Xt,33,9,"div",89),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=i.$implicit,e=i.index,r=p.oxw(3);p.Q6J("formGroupName",e),p.xp6(6),p.hij("Varian ",e+1,""),p.xp6(1),p.Q6J("ngIf",r.productStatus[r.productDetail.status]===r.productStatus.APPROVED),p.xp6(10),p.MGl("id","color-",e,""),p.xp6(1),p.Q6J("ngIf",t.get("color").hasError("required")&&(t.get("color").dirty||t.get("color").touched)),p.xp6(1),p.Q6J("ngIf",t.get("color").hasError("pattern")),p.xp6(13),p.MGl("id","price-",e,""),p.xp6(1),p.Q6J("ngIf",t.get("price").hasError("required")&&(t.get("price").dirty||t.get("price").touched)),p.xp6(1),p.Q6J("ngIf",t.get("price").hasError("pattern")),p.xp6(1),p.Q6J("ngIf",t.get("price").hasError("min")),p.xp6(9),p.MGl("id","stock-",e,""),p.xp6(1),p.Q6J("ngIf",t.get("stock").hasError("required")&&(t.get("stock").dirty||t.get("stock").touched)),p.xp6(1),p.Q6J("ngIf",t.get("stock").hasError("pattern")),p.xp6(9),p.MGl("id","minimumOrder-",e,""),p.xp6(1),p.Q6J("ngIf",t.get("minimumOrder").hasError("required")&&(t.get("minimumOrder").dirty||t.get("minimumOrder").touched)),p.xp6(1),p.Q6J("ngIf",t.get("minimumOrder").hasError("pattern")),p.xp6(1),p.Q6J("ngIf",!0!==r.editProductForm.get("digitalGoods").value),p.xp6(1),p.Q6J("ngIf",!0!==r.editProductForm.get("digitalGoods").value)}}function ii(t,i){if(1&t){const t=p.EpF();p.ynx(0),p.TgZ(1,"div",5),p.TgZ(2,"div",6),p.TgZ(3,"h3"),p._uU(4,"Detail Produk"),p.qZA(),p.TgZ(5,"p"),p._uU(6,"Tambahkan produk dan mulailah untuk menjual produk Anda"),p.qZA(),p.qZA(),p.qZA(),p.YNc(7,ht,10,0,"div",7),p.YNc(8,vt,10,1,"div",8),p.YNc(9,ft,11,0,"div",9),p.YNc(10,Tt,10,0,"div",10),p.TgZ(11,"div",11),p.TgZ(12,"div",12),p.TgZ(13,"div",5),p.TgZ(14,"div",13),p.TgZ(15,"form",14),p.NdJ("ngSubmit",function(){return p.CHM(t),p.oxw(2).submitEditProduct()}),p.TgZ(16,"div",15),p.TgZ(17,"div",16),p.TgZ(18,"div"),p.TgZ(19,"b"),p._uU(20,"Tipe Produk"),p.qZA(),p.qZA(),p.TgZ(21,"small"),p._uU(22,"Pilih jika Anda ingin menambahkan "),p.TgZ(23,"span",17),p._uU(24," produk digital "),p.qZA(),p._uU(25," yang tidak membutuhkan pengiriman"),p.qZA(),p.qZA(),p.TgZ(26,"div",18),p.TgZ(27,"div",19),p.TgZ(28,"div",20),p.TgZ(29,"input",21),p.NdJ("change",function(){return p.CHM(t),p.oxw(2).validateDigitalGoods()}),p.qZA(),p.TgZ(30,"label",22),p._uU(31,"Produk fisik"),p.qZA(),p.qZA(),p.TgZ(32,"div",23),p.TgZ(33,"input",24),p.NdJ("change",function(){return p.CHM(t),p.oxw(2).validateDigitalGoods()}),p.qZA(),p.TgZ(34,"label",25),p._uU(35,"Produk digital"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(36,"div",15),p.TgZ(37,"div",16),p.TgZ(38,"div"),p.TgZ(39,"b"),p._uU(40,"Foto Produk"),p.qZA(),p.qZA(),p.TgZ(41,"small"),p._uU(42," Maksimal ukuran gambar 1 MB atau minimum 300 x 300 px. Format gambar .jpg .jpeg atau .png "),p.qZA(),p.qZA(),p.TgZ(43,"div",18),p.TgZ(44,"div",19),p.TgZ(45,"div",26),p.TgZ(46,"div",27),p.TgZ(47,"div",28),p.TgZ(48,"div",29),p.TgZ(49,"label",30),p.YNc(50,At,4,0,"div",4),p.YNc(51,qt,2,1,"div",4),p.qZA(),p.TgZ(52,"input",31),p.NdJ("change",function(i){return p.CHM(t),p.oxw(2).fileProgress(i,"previewImageProduct1")}),p.qZA(),p.qZA(),p.qZA(),p.YNc(53,kt,2,0,"div",32),p.qZA(),p.TgZ(54,"div",27),p.TgZ(55,"div",28),p.TgZ(56,"div",29),p.TgZ(57,"label",33),p.YNc(58,xt,4,0,"div",4),p.YNc(59,bt,2,1,"div",4),p.qZA(),p.TgZ(60,"input",34),p.NdJ("change",function(i){return p.CHM(t),p.oxw(2).fileProgress(i,"previewImageProduct2")}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(61,"div",27),p.TgZ(62,"div",28),p.TgZ(63,"div",29),p.TgZ(64,"label",35),p.YNc(65,Ut,4,0,"div",4),p.YNc(66,Pt,2,1,"div",4),p.qZA(),p.TgZ(67,"input",36),p.NdJ("change",function(i){return p.CHM(t),p.oxw(2).fileProgress(i,"previewImageProduct3")}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(68,"div",15),p.TgZ(69,"div",16),p.TgZ(70,"div"),p.TgZ(71,"b"),p._uU(72,"Nama Produk"),p.qZA(),p.qZA(),p.TgZ(73,"small"),p._uU(74," Cantumkan maksimal 238 karakter terdiri dari jenis produk, merek, dan keterangan seperti warna, bahan, atau tipe "),p.qZA(),p.qZA(),p.TgZ(75,"div",18),p._UZ(76,"input",37),p.YNc(77,It,2,0,"div",38),p.YNc(78,yt,2,0,"div",38),p.YNc(79,_t,2,0,"div",38),p.qZA(),p.qZA(),p._UZ(80,"hr",39),p.TgZ(81,"div",15),p.TgZ(82,"div",16),p.TgZ(83,"div"),p.TgZ(84,"b"),p._uU(85,"Kategori"),p.qZA(),p.qZA(),p.TgZ(86,"small"),p._uU(87," Pilih kategori yang sesuai dengan produk Anda "),p.qZA(),p.qZA(),p.TgZ(88,"div",18),p.TgZ(89,"ng-select",40),p.YNc(90,Nt,2,2,"ng-option",41),p.qZA(),p.YNc(91,wt,2,0,"div",38),p.qZA(),p.qZA(),p.TgZ(92,"div",15),p.TgZ(93,"div",16),p.TgZ(94,"div"),p.TgZ(95,"b"),p._uU(96,"Kondisi"),p.qZA(),p.qZA(),p.TgZ(97,"small"),p._uU(98," Pilih kondisi produk yang dijual "),p.qZA(),p.qZA(),p.TgZ(99,"div",18),p.TgZ(100,"div",19),p.TgZ(101,"div",20),p._UZ(102,"input",42),p.TgZ(103,"label",43),p._uU(104,"Baru"),p.qZA(),p.qZA(),p.TgZ(105,"div",23),p._UZ(106,"input",44),p.TgZ(107,"label",45),p._uU(108,"Bekas"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(109,"div",15),p.TgZ(110,"div",16),p.TgZ(111,"div"),p.TgZ(112,"b"),p._uU(113,"Deskripsi Produk"),p.qZA(),p.qZA(),p.TgZ(114,"small"),p._uU(115," Pastikan deskripsi produk memuat spesifikasi, ukuran, bahan, masa berlaku, dan lainnya. Cantumkan maksimal 260 karakter agar pembeli semakin mudah mengerti produk Anda "),p.qZA(),p.qZA(),p.TgZ(116,"div",18),p.TgZ(117,"div",19),p._UZ(118,"textarea",46),p.YNc(119,Ct,2,0,"div",38),p.YNc(120,Jt,2,0,"div",38),p.qZA(),p.qZA(),p.qZA(),p.TgZ(121,"div",15),p.TgZ(122,"div",47),p.TgZ(123,"h4",48),p._uU(124,"Informasi Penjualan"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(125,"div",49),p.YNc(126,ti,60,18,"div",50),p.qZA(),p.TgZ(127,"div",39),p._UZ(128,"hr",51),p.qZA(),p.TgZ(129,"div",5),p.TgZ(130,"div",52),p.TgZ(131,"div",5),p.TgZ(132,"div",53),p.TgZ(133,"button",54),p.NdJ("click",function(){return p.CHM(t),p.oxw(2).changePage("list")}),p._UZ(134,"i",55),p._uU(135," BATAL "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(136,"div",52),p.TgZ(137,"div",5),p._UZ(138,"div",56),p.TgZ(139,"div",27),p.TgZ(140,"button",57),p._uU(141,"SIMPAN"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.BQk()}if(2&t){const t=p.oxw(2);p.xp6(7),p.Q6J("ngIf",t.productStatus[t.productDetail.status]===t.productStatus.WAITING),p.xp6(1),p.Q6J("ngIf",t.productStatus[t.productDetail.status]===t.productStatus.REJECTED),p.xp6(1),p.Q6J("ngIf",t.productStatus[t.productDetail.status]===t.productStatus.APPROVED&&!0===t.productDetail.active),p.xp6(1),p.Q6J("ngIf",t.productStatus[t.productDetail.status]===t.productStatus.APPROVED&&!1===t.productDetail.active),p.xp6(5),p.Q6J("formGroup",t.editProductForm),p.xp6(8),p.Q6J("autoClose","inside"),p.xp6(6),p.Q6J("value",!1),p.xp6(4),p.Q6J("value",!0),p.xp6(17),p.Q6J("ngIf",!t.previewImageProduct1),p.xp6(1),p.Q6J("ngIf",t.previewImageProduct1),p.xp6(2),p.Q6J("ngIf",t.editProductForm.get("image1").hasError("required")&&(t.editProductForm.get("image1").dirty||t.editProductForm.get("image1").touched)),p.xp6(5),p.Q6J("ngIf",!t.previewImageProduct2),p.xp6(1),p.Q6J("ngIf",t.previewImageProduct2),p.xp6(6),p.Q6J("ngIf",!t.previewImageProduct3),p.xp6(1),p.Q6J("ngIf",t.previewImageProduct3),p.xp6(11),p.Q6J("ngIf",t.editProductForm.get("name").hasError("required")&&(t.editProductForm.get("name").dirty||t.editProductForm.get("name").touched)),p.xp6(1),p.Q6J("ngIf",t.editProductForm.get("name").hasError("pattern")),p.xp6(1),p.Q6J("ngIf",t.editProductForm.get("name").hasError("maxLength")),p.xp6(10),p.Q6J("multiple",!1),p.xp6(1),p.Q6J("ngForOf",t.listCategoryProduct),p.xp6(1),p.Q6J("ngIf",t.editProductForm.get("category").hasError("required")&&(t.editProductForm.get("category").dirty||t.editProductForm.get("category").touched)),p.xp6(11),p.Q6J("value",t.productCondition.New),p.xp6(4),p.Q6J("value",t.productCondition.Used),p.xp6(13),p.Q6J("ngIf",t.editProductForm.get("description").hasError("required")&&(t.editProductForm.get("description").dirty||t.editProductForm.get("description").touched)),p.xp6(1),p.Q6J("ngIf",t.editProductForm.get("description").hasError("pattern")),p.xp6(6),p.Q6J("ngForOf",t.editProductForm.get("variants").controls),p.xp6(14),p.Q6J("disabled",!t.editProductForm.valid)}}function ei(t,i){if(1&t&&(p.YNc(0,mt,2,0,"ng-container",4),p.YNc(1,ii,142,27,"ng-container",4)),2&t){const t=p.oxw();p.Q6J("ngIf","list"===t.pageName),p.xp6(1),p.Q6J("ngIf","edit"===t.pageName)}}let ri=(()=>{class t{constructor(t,i,e,r,n,u,c,g){this.formBuilder=t,this.requestService=i,this.apiModelTranslatorService=e,this.alertService=r,this.errorService=n,this.validationService=u,this.modalService=c,this.router=g,this.loading=!0,this.user=new o.n,this.listCategoryProduct=[],this.productLinkRoot=a.N.envUrl,this.productLinkBusiness="",this.productLinkDetail="",this.pageName="",this.apiGetProductCategory=a.N.apiUrl+d.b.PRODUCT_CATEGORY,this.apiGetMerchatLink=a.N.apiUrl+d.b.MERCHANT_LINK,this.apiProduct=a.N.apiUrl+d.b.PRODUCT,this.productDetail=new pt.xs,this.productCondition=x.n,this.productStatus=s.P,this.titleInactiveVariant="Inaktif Varian ?",this.textInactiveVariant="Varian akan dinonaktifkan",this.confirmButtonTextInactiveVariant="NONAKTIF",this.successAllertInactiveVariant="Success! Inaktif Varian"}ngOnInit(){this.pageName="edit",this.initLoad()}initLoad(){return(0,n.mG)(this,void 0,void 0,function*(){let t=yield this.getDetailProduct();yield this.getListCategoryProduct(),this.form(t),this.user=this.requestService.getUserToken(),this.productLinkBusiness=yield this.getMerchantLink(),this.productLinkDetail=this.productLinkRoot+"/"+c.q.ROUTING_RETAIL+"/"+c.q.ROUTING_MERCHANT+"/"+this.productLinkBusiness+"/"+this.productDetail.link})}form(t){this.editProductForm=this.formBuilder.group({name:[null==t?void 0:t.name,[Z.kI.required,Z.kI.pattern]],category:[null==t?void 0:t.category,[Z.kI.required]],digitalGoods:[null==t?void 0:t.variants[0].digitalGoods,[Z.kI.required]],description:[null==t?void 0:t.description,[Z.kI.required,Z.kI.pattern]],link:[null==t?void 0:t.link,[Z.kI.required,Z.kI.pattern]],image1:[null],uiId:[this.productUiId],condition:[null==t?void 0:t.condition,[Z.kI.required]],variants:this.formBuilder.array(t.variants.map(t=>this.initVariantsProduct(t)))})}initVariantsProduct(t){return this.formBuilder.group({uiId:[t.uiId,[Z.kI.required]],active:[t.active],color:[t.color,[Z.kI.required,Z.kI.pattern]],minimumOrder:[t.minimumOrder,[Z.kI.required,Z.kI.pattern]],length:[t.length,[Z.kI.required,Z.kI.pattern]],width:[t.width,[Z.kI.required,Z.kI.pattern]],height:[t.height,[Z.kI.required,Z.kI.pattern]],stock:[t.stock,[Z.kI.required,Z.kI.pattern]],price:[t.price,[Z.kI.required,Z.kI.pattern,Z.kI.min(1e4)]],weight:[t.weight,[Z.kI.required,Z.kI.pattern]]})}getListCategoryProduct(){this.requestService.get(this.apiGetProductCategory,null).subscribe(t=>{this.listCategoryProduct=t,this.loading=!1},t=>{this.errorService.getErrorApi(t)})}getDetailProduct(){return(0,n.mG)(this,void 0,void 0,function*(){return this.requestService.get(this.apiProduct+"/"+this.productUiId+d.b.PRODUCT_DETAIL,null).toPromise().then(t=>{var i,e,r;return this.productDetail=this.apiModelTranslatorService.snakeToCamelCase(t),this.productDetail.link=decodeURI(this.productDetail.link),this.previewImageProduct1=null===(i=this.productDetail.images[0])||void 0===i?void 0:i.url,this.previewImageProduct2=null===(e=this.productDetail.images[1])||void 0===e?void 0:e.url,this.previewImageProduct3=null===(r=this.productDetail.images[2])||void 0===r?void 0:r.url,this.productDetail},t=>{this.errorService.getErrorApi(t)})})}getMerchantLink(){return this.requestService.get(this.apiGetMerchatLink,null).toPromise().then(t=>t.merchant.link,t=>{this.errorService.getErrorApi(t)})}submitEditProduct(){if(this.editProductForm.valid){let t=encodeURI(this.editProductForm.get("link").value);this.editProductForm.patchValue({link:t}),k().fire({title:"Ubah Produk?",text:"Informasi produk akan berubah dan ditampilkan ke website Pelanggan",showCancelButton:!0,cancelButtonText:"BATAL",cancelButtonColor:"#666666",reverseButtons:!0,confirmButtonColor:"#E1251B",confirmButtonText:"UBAH",showLoaderOnConfirm:!0,customClass:{title:"swal2-title-modal-medium"},preConfirm:()=>(0,n.mG)(this,void 0,void 0,function*(){this.requestService.put(this.apiProduct,null,this.apiModelTranslatorService.camelToSnakeCase(this.editProductForm.value)).subscribe(t=>{this.router.navigate([c.q.ROUTING_INVENTORY]),this.alertService.setProps("Success! Edit Produk",!1)},t=>{this.errorService.getErrorApi(t)}),null!=this.imageToUpload1&&(yield this.uploadImageProduct(this.productUiId,this.imageToUpload1,"0")),null!=this.imageToUpload2&&(yield this.uploadImageProduct(this.productUiId,this.imageToUpload2,"1")),null!=this.imageToUpload3&&(yield this.uploadImageProduct(this.productUiId,this.imageToUpload3,"2"))})})}}uploadImageProduct(t,i,e){return(0,n.mG)(this,void 0,void 0,function*(){return this.requestService.uploadSingleFile("image",a.N.apiUrl+d.b.PRODUCT+"/"+t+d.b.PRODUCT_IMAGES,i,e).toPromise().then(t=>{},t=>{this.errorService.getErrorApi(t)})})}changePage(t){this.pageName=t}fileProgress(t,i){this.fileData=t.target.files[0],void 0!==this.fileData&&this.preview(i)}preview(t){var i;let e=null===(i=this.fileData)||void 0===i?void 0:i.type,r=new FileReader;r.readAsDataURL(this.fileData),r.onload=i=>{let n=new Image;n.src=r.result,n.onload=()=>{const i=n.naturalHeight,o=n.naturalWidth;"previewImageProduct1"===t?null===e.match("image.*")?(this.editProductForm.patchValue({image1:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.editProductForm.patchValue({image1:null}),this.alertService.setProps("Size more than 1 MB",!0)):i<300||o<300?(this.editProductForm.patchValue({image1:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct1=r.result,this.imageToUpload1=this.fileData):"previewImageProduct2"===t?null===e.match("image.*")?(this.editProductForm.patchValue({image2:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.editProductForm.patchValue({image2:null}),this.alertService.setProps("Size more than 1 MB",!0)):i<300||o<300?(this.editProductForm.patchValue({image2:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct2=r.result,this.imageToUpload2=this.fileData):"previewImageProduct3"===t&&(null===e.match("image.*")?(this.editProductForm.patchValue({image3:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.editProductForm.patchValue({image3:null}),this.alertService.setProps("Size more than 1 MB",!0)):i<300||o<300?(this.editProductForm.patchValue({image3:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct3=r.result,this.imageToUpload3=this.fileData))}}}get variants(){return this.editProductForm.get("variants")}addNewVariant(){this.variants.length<5&&(this.variants.push(this.initVariantsProduct(new pt.$e)),this.validateDigitalGoods())}deleteVariant(){this.variants.removeAt(this.variants.length-1)}inactiveVariant(t,i){const e=document.getElementById(i);e.checked?(this.titleInactiveVariant="Aktif Variant ?",this.textInactiveVariant="Variant akan diaktifkan",this.confirmButtonTextInactiveVariant="AKTIF",this.successAllertInactiveVariant="Success! Aktif Varian"):(this.titleInactiveVariant="Inaktif Varian ?",this.textInactiveVariant="Varian akan dinonaktifkan",this.confirmButtonTextInactiveVariant="NONAKTIF",this.successAllertInactiveVariant="Success! Inaktif Varian"),k().fire({title:this.titleInactiveVariant,text:this.textInactiveVariant,showCancelButton:!0,cancelButtonText:"BATAL",cancelButtonColor:"#666666",reverseButtons:!0,confirmButtonColor:"#E1251B",confirmButtonText:this.confirmButtonTextInactiveVariant,showLoaderOnConfirm:!0,customClass:{title:"swal2-title-modal-medium"},preConfirm:()=>(0,n.mG)(this,void 0,void 0,function*(){console.log(i),this.requestService.put(a.N.apiUrl+d.b.PRODUCT_VARIANT+"/"+t+d.b.PRODUCT_ACTIVATE,null,null).subscribe(t=>{this.router.navigate([c.q.ROUTING_INVENTORY]),e.checked=t.current,this.alertService.setProps(this.successAllertInactiveVariant,!1)},t=>{e.checked=!e.checked,this.errorService.getErrorApi(t)})})}).then(function(t){t.isDismissed&&(e.checked=!e.checked)})}validateDigitalGoods(){this.variants.controls.forEach((t,i)=>{!0===this.editProductForm.get("digitalGoods").value?(t.patchValue({width:1}),t.patchValue({height:1}),t.patchValue({length:1}),t.patchValue({weight:1})):(t.patchValue({width:""}),t.patchValue({height:""}),t.patchValue({length:""}),t.patchValue({weight:""}))})}openProductLinkDetail(){window.open(this.productLinkDetail)}}return t.\u0275fac=function(i){return new(i||t)(p.Y36(Z.qu),p.Y36(m.s),p.Y36(h.g),p.Y36(v.c),p.Y36(f.T),p.Y36(b.R),p.Y36(T.FF),p.Y36(A.F0))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-inventory-edit"]],inputs:{productUiId:"productUiId"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loaded",""],[1,"center"],["role","status",1,"spinner-border","text-primary","spinner-sm","mr-5"],[4,"ngIf"],[1,"row"],[1,"form-group","col-md-12","page-header"],["class","alert alert-warning border-warning","style","width: 100%; border-style: solid",4,"ngIf"],["class","alert alert-danger border-danger","style","width: 100%; border-style: solid",4,"ngIf"],["class","alert alert-success border-success","style","width: 100%; border-style: solid",4,"ngIf"],["class","alert alert-dark border-dark","style","width: 100%; border-style: solid",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"col-12"],["id","editProductForm",1,"pt-10",3,"formGroup","ngSubmit"],[1,"row","mb-4"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["ngbPopover","Contoh: Voucher Pulsa, Token Listrik, Voucher Belanja, Game, dll, yang tidak memerlukan pengiriman","popoverTitle","Produk Digital",1,"text-primary",2,"cursor","pointer",3,"autoClose"],[1,"col-12","col-md-9"],[1,"form-group"],[1,"form-check","form-check-inline","mr-5"],["type","radio","name","digitalGoods","id","physicalGoods","formControlName","digitalGoods",1,"form-check-input",3,"value","change"],["for","physicalGoods",1,"form-check-label"],[1,"form-check","form-check-inline"],["type","radio","name","digitalGoods","id","digitalGoods","formControlName","digitalGoods",1,"form-check-input",3,"value","change"],["for","digitalGoods",1,"form-check-label"],[1,"row","mt-3","px-3"],[1,"col-12","col-md-4"],[1,"form-group","d-flex","justify-content-center"],[1,"image-upload","d-flex","justify-content-center",2,"border-style","dashed","width","220px","height","220px"],["for","file-input1",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input1","type","file","name","image","accept","image/png, image/jpg, image/jpeg","formControlName","image1",3,"change"],["class","col text-danger",4,"ngIf"],["for","file-input2",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input2","type","file","name","image","accept","image/png, image/jpg, image/jpeg",3,"change"],["for","file-input3",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input3","type","file","name","image","accept","image/png, image/jpg, image/jpeg",3,"change"],["formControlName","name","id","name","placeholder","Baju lengan panjang","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$","maxlength","238",1,"form-control","dk-text-input"],["class","text-danger",4,"ngIf"],[1,"row","p-3","my-2"],["formControlName","category","id","category","placeholder","Pilih kategori produk",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["type","radio","id","conditionNew","formControlName","condition",3,"value"],["for","conditionNew",1,"form-check-label"],["type","radio","id","conditionUsed","formControlName","condition",3,"value"],["for","conditionUsed",1,"form-check-label"],["formControlName","description","id","description","placeholder","Deskripsi produk anda","required","","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$","rows","4","maxlength","260",1,"form-control","dk-text-input"],[1,"col-3",2,"margin-bottom","auto","margin-top","auto"],[2,"margin-bottom","auto","margin-top","auto"],["formArrayName","variants"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"m-0"],[1,"col-12","col-md-6"],[1,"col-12","col-md-6","mb-3","mb-md-0"],["id","backButton","type","button",1,"btn","btn-secondary","btn-block","ml-auto",3,"click"],[1,"fa","fa-arrow-left","in-icon"],[1,"col-12","col-md-8","mb-3","mb-md-0"],["id","save","type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"alert","alert-warning","border-warning",2,"width","100%","border-style","solid"],[1,"content"],[1,"fas","fa-exclamation-circle","in-icon","ml-3",2,"margin-top","auto","margin-bottom","auto"],[1,"col",2,"color","#4d4d4d"],[1,"alert","alert-danger","border-danger",2,"width","100%","border-style","solid"],[1,"fas","fa-times-circle","in-icon","ml-3",2,"margin-top","auto","margin-bottom","auto"],[1,"alert","alert-success","border-success",2,"width","100%","border-style","solid"],[1,"fas","fa-check-circle","in-icon","ml-3",2,"margin-top","auto","margin-bottom","auto"],[1,"text-primary",2,"cursor","pointer",3,"click"],[1,"fas","fa-external-link-alt"],[1,"alert","alert-dark","border-dark",2,"width","100%","border-style","solid"],[1,"fas","fa-question-circle","in-icon","ml-3",2,"margin-top","auto","margin-bottom","auto"],[1,"fas","fa-plus-circle","text-primary"],[1,"image-container",3,"src"],[1,"col","text-danger"],[1,"text-danger"],[3,"value"],[3,"formGroupName"],[1,"row","px-3","mb-3"],[1,"col-12","rounded","p-3",2,"border","1px dashed #cccccc"],[1,"row","mb-2"],[1,"d-flex","px-3","mb-3","w-100","align-items-center"],[1,"d-inline-block","m-0"],["class","custom-control custom-switch d-inline-block",4,"ngIf"],["formControlName","color","placeholder","Merah","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$",1,"form-control","dk-text-input",3,"id"],[1,"input-group"],[1,"input-group-append"],["id","currency",1,"input-group-text","dk-span-group"],["formControlName","price","placeholder","10000","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["formControlName","stock","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["formControlName","minimumOrder","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["class","row mb-4",4,"ngIf"],[1,"custom-control","custom-switch","d-inline-block"],["type","checkbox",1,"switch",3,"id","checked","change"],[3,"for"],["formControlName","weight","placeholder","0.1","required","","type","text","pattern","^[0-9]+(\\.[0-9]{1,2})?$",1,"form-control","dk-text-input",3,"id","keypress"],["id","unit",1,"input-group-text","dk-span-group"],[1,"d-flex",2,"gap","12px"],["formControlName","length","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","lengthUnit",1,"input-group-text","dk-span-group"],["formControlName","width","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","widthUnit",1,"input-group-text","dk-span-group"],["formControlName","height","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","heightUnit",1,"input-group-text","dk-span-group"]],template:function(t,i){if(1&t&&(p.YNc(0,Zt,3,0,"div",0),p.YNc(1,ei,2,2,"ng-template",null,1,p.W1O)),2&t){const t=p.MAs(2);p.Q6J("ngIf",i.loading)("ngIfElse",t)}},styles:[".center[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:fixed;top:0;bottom:0;left:0;right:0;margin:auto}img.image-container[_ngcontent-%COMP%]{width:100%;height:180px;-o-object-fit:contain;object-fit:contain}"]}),t})();const ni=["configurationModal"];function oi(t,i){1&t&&(p.TgZ(0,"div"),p.TgZ(1,"div",5),p._UZ(2,"div",6),p.qZA(),p.qZA())}function ai(t,i){if(1&t&&(p.TgZ(0,"span",44),p._uU(1),p.qZA()),2&t){const t=p.oxw(5);p.xp6(1),p.hij(" ",t.productStatusEnum.ACTIVE," ")}}function di(t,i){if(1&t&&(p.TgZ(0,"span",45),p._uU(1),p.qZA()),2&t){const t=p.oxw(5);p.xp6(1),p.hij(" ",t.productStatusEnum.NON_ACTIVE," ")}}function ui(t,i){if(1&t&&(p.TgZ(0,"span",46),p._uU(1),p.qZA()),2&t){const t=p.oxw(5);p.xp6(1),p.hij(" ",t.productStatusEnum.WAITING," ")}}function ci(t,i){if(1&t&&(p.TgZ(0,"span",47),p._uU(1),p.qZA()),2&t){const t=p.oxw(5);p.xp6(1),p.hij(" ",t.productStatusEnum.REJECTED," ")}}function gi(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"button",42),p.NdJ("click",function(){p.CHM(t);const i=p.oxw().$implicit,e=p.oxw(4),r=p.MAs(4);return e.openModalStatusProduct(r,i.uiId)}),p._uU(1,"Nonaktifkan Produk"),p.qZA()}}function si(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"button",42),p.NdJ("click",function(){p.CHM(t);const i=p.oxw().$implicit,e=p.oxw(4),r=p.MAs(6);return e.openModalStatusProduct(r,i.uiId)}),p._uU(1,"Aktifkan Produk"),p.qZA()}}function li(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td",29),p._UZ(2,"img",30),p._uU(3),p.qZA(),p.TgZ(4,"td",31),p._uU(5),p.ALo(6,"currency"),p.qZA(),p.TgZ(7,"td",31),p._uU(8),p.qZA(),p.TgZ(9,"td",29),p._uU(10),p.qZA(),p.TgZ(11,"td",31),p.TgZ(12,"i",32),p.NdJ("click",function(){const i=p.CHM(t).$implicit,e=p.oxw(4);return e.copyMessage(e.productLinkRoot+e.decodeURI(i.link))}),p.qZA(),p.qZA(),p.TgZ(13,"td",31),p.YNc(14,ai,2,1,"span",33),p.YNc(15,di,2,1,"span",34),p.YNc(16,ui,2,1,"span",35),p.YNc(17,ci,2,1,"span",36),p.qZA(),p.TgZ(18,"td",37),p.TgZ(19,"div",38),p.TgZ(20,"button",39),p._UZ(21,"i",40),p.qZA(),p.TgZ(22,"div",41),p.TgZ(23,"button",42),p.NdJ("click",function(){const i=p.CHM(t).$implicit;return p.oxw(4).changePage("edit",i.uiId)}),p._uU(24,"Lihat Detail"),p.qZA(),p.YNc(25,gi,2,0,"button",43),p.YNc(26,si,2,0,"button",43),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=i.$implicit,e=i.index,r=p.oxw(4);p.xp6(1),p.s9C("id","name-"+e),p.xp6(1),p.Q6J("src",null==t.images[0]?null:t.images[0].url,p.LSH),p.xp6(1),p.hij(" ",t.name,""),p.xp6(1),p.s9C("id","price-"+e),p.xp6(1),p.Oqu(p.gM2(6,18,t.price,"Rp ","symbol-narrow","1.0")),p.xp6(2),p.s9C("id","stock-"+e),p.xp6(1),p.Oqu(t.stock),p.xp6(1),p.s9C("id","link-"+e),p.xp6(1),p.Oqu(r.productLinkRoot+r.decodeURI(t.link)),p.xp6(1),p.s9C("id","copy-"+e),p.xp6(2),p.s9C("id","status-"+e),p.xp6(1),p.Q6J("ngIf",1==t.active&&r.productStatusEnum[t.status]==r.productStatusEnum.APPROVED),p.xp6(1),p.Q6J("ngIf",0==t.active&&r.productStatusEnum[t.status]==r.productStatusEnum.APPROVED),p.xp6(1),p.Q6J("ngIf",1==t.active&&r.productStatusEnum[t.status]==r.productStatusEnum.WAITING),p.xp6(1),p.Q6J("ngIf",1==t.active&&r.productStatusEnum[t.status]==r.productStatusEnum.REJECTED),p.xp6(1),p.s9C("id","action-"+e),p.xp6(7),p.Q6J("ngIf",1==t.active&&r.productStatusEnum[t.status]===r.productStatusEnum.APPROVED),p.xp6(1),p.Q6J("ngIf",0==t.active&&r.productStatusEnum[t.status]===r.productStatusEnum.APPROVED)}}function pi(t,i){if(1&t&&(p.TgZ(0,"tbody"),p.YNc(1,li,27,23,"tr",28),p.qZA()),2&t){const t=p.oxw(3);p.xp6(1),p.Q6J("ngForOf",t.productList)}}function Zi(t,i){1&t&&(p.TgZ(0,"div",48),p.TgZ(1,"div",49),p._UZ(2,"i",50),p.qZA(),p.TgZ(3,"div",51),p.TgZ(4,"h4"),p._uU(5,"Maaf, belum ada Produk"),p.qZA(),p.qZA(),p.TgZ(6,"div",51),p.TgZ(7,"span"),p._uU(8,"Klik button TAMBAH PRODUK untuk"),p.qZA(),p.qZA(),p.TgZ(9,"div",51),p.TgZ(10,"span"),p._uU(11,"menambah produk pertamamu"),p.qZA(),p.qZA(),p.qZA())}function mi(t,i){if(1&t){const t=p.EpF();p.ynx(0),p.TgZ(1,"div",8),p.TgZ(2,"div",9),p.TgZ(3,"h3"),p._uU(4,"Daftar Produk"),p.qZA(),p.TgZ(5,"p"),p._uU(6,"Atur dan kelola produk disini"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"div",10),p.TgZ(8,"div",11),p.TgZ(9,"div",12),p.TgZ(10,"input",13),p.NdJ("ngModelChange",function(i){return p.CHM(t),p.oxw(2).inputSearchProduct=i}),p.qZA(),p.TgZ(11,"i",14),p.NdJ("click",function(){return p.CHM(t),p.oxw(2).findProductMerchant()}),p.qZA(),p.qZA(),p.TgZ(12,"div",15),p.TgZ(13,"button",16),p.NdJ("click",function(){return p.CHM(t),p.oxw(2).changePage("add",null)}),p._uU(14,"Tambah Produk "),p._UZ(15,"i",17),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(16,"div",18),p.TgZ(17,"div",19),p.TgZ(18,"table",20),p.TgZ(19,"thead"),p.TgZ(20,"tr"),p.TgZ(21,"th",21),p._uU(22,"Nama"),p.qZA(),p.TgZ(23,"th",21),p._uU(24,"Harga(Rp)"),p.qZA(),p.TgZ(25,"th",21),p._uU(26,"Stock"),p.qZA(),p.TgZ(27,"th",21),p._uU(28,"Tautan"),p.qZA(),p._UZ(29,"th",21),p.TgZ(30,"th",21),p._uU(31,"Status"),p.qZA(),p._UZ(32,"th",21),p.qZA(),p.qZA(),p.YNc(33,pi,2,1,"tbody",7),p.qZA(),p.YNc(34,Zi,12,0,"div",22),p.TgZ(35,"div",23),p.TgZ(36,"select",24),p.NdJ("ngModelChange",function(i){return p.CHM(t),p.oxw(2).pageSize=i})("ngModelChange",function(){p.CHM(t);const i=p.oxw(2);return i.onPageChange(i.page,i.pageSize)}),p.TgZ(37,"option",25),p._uU(38,"5 items per page"),p.qZA(),p.TgZ(39,"option",25),p._uU(40,"10 items per page"),p.qZA(),p.TgZ(41,"option",25),p._uU(42,"15 items per page"),p.qZA(),p.qZA(),p.TgZ(43,"p",26),p._uU(44),p.qZA(),p.TgZ(45,"ngb-pagination",27),p.NdJ("pageChange",function(i){return p.CHM(t),p.oxw(2).page=i})("pageChange",function(i){p.CHM(t);const e=p.oxw(2);return e.onPageChange(i,e.pageSize)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.BQk()}if(2&t){const t=p.oxw(2);p.xp6(10),p.Q6J("ngModel",t.inputSearchProduct),p.xp6(23),p.Q6J("ngIf",0!==t.productList.length),p.xp6(1),p.Q6J("ngIf",0===t.productList.length),p.xp6(2),p.Q6J("ngModel",t.pageSize),p.xp6(1),p.Q6J("ngValue",5),p.xp6(2),p.Q6J("ngValue",10),p.xp6(2),p.Q6J("ngValue",15),p.xp6(3),p.lnq("Showing ",t.startData," to ",t.endData," from ",t.totalData," entries"),p.xp6(1),p.Q6J("page",t.page)("pageSize",t.pageSize)("collectionSize",t.totalData)("maxSize",2)}}function hi(t,i){1&t&&(p.ynx(0),p._UZ(1,"app-inventory-add"),p.BQk())}function vi(t,i){if(1&t&&(p.ynx(0),p._UZ(1,"app-inventory-edit",52),p.BQk()),2&t){const t=p.oxw(2);p.xp6(1),p.Q6J("productUiId",t.productUiId)}}function fi(t,i){if(1&t&&(p.YNc(0,mi,46,14,"ng-container",7),p.YNc(1,hi,2,0,"ng-container",7),p.YNc(2,vi,2,1,"ng-container",7)),2&t){const t=p.oxw();p.Q6J("ngIf","list"===t.pageName),p.xp6(1),p.Q6J("ngIf","add"===t.pageName),p.xp6(1),p.Q6J("ngIf","edit"===t.pageName)}}function Ti(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",53),p.TgZ(1,"h5",54),p.TgZ(2,"div",55),p.TgZ(3,"div"),p._UZ(4,"img",56),p.qZA(),p.TgZ(5,"div",57),p.TgZ(6,"h4"),p._uU(7,"Nonaktifkan Produk?"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"div",58),p.TgZ(9,"div",59),p._uU(10," Produk akan dinonaktifkan dan tidak akan tertampil pada website pelanggan Anda. "),p.qZA(),p.qZA(),p.TgZ(11,"div",60),p.TgZ(12,"button",61),p.NdJ("click",function(){return p.CHM(t).$implicit.close()}),p._uU(13,"BATAL"),p.qZA(),p.TgZ(14,"button",62),p.NdJ("click",function(){return(0,p.CHM(t).close)(p.oxw().activateProduct())}),p._uU(15,"NONAKTIFKAN"),p.qZA(),p.qZA()}}function Ai(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",53),p.TgZ(1,"h5",54),p.TgZ(2,"div",55),p.TgZ(3,"div"),p._UZ(4,"img",56),p.qZA(),p.TgZ(5,"div",57),p.TgZ(6,"h4"),p._uU(7,"Aktifkan Produk?"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"div",58),p.TgZ(9,"div",59),p._uU(10," Produk akan diaktifkan dan akan tertampil pada website pelanggan Anda. "),p.qZA(),p.qZA(),p.TgZ(11,"div",60),p.TgZ(12,"button",61),p.NdJ("click",function(){return p.CHM(t).$implicit.close()}),p._uU(13,"BATAL"),p.qZA(),p.TgZ(14,"button",62),p.NdJ("click",function(){return(0,p.CHM(t).close)(p.oxw().activateProduct())}),p._uU(15,"AKTIFKAN"),p.qZA(),p.qZA()}}function qi(t,i){if(1&t){const t=p.EpF();p.TgZ(0,"div",53),p.TgZ(1,"h5",54),p.TgZ(2,"div",55),p.TgZ(3,"div"),p._UZ(4,"img",56),p.qZA(),p.TgZ(5,"div",63),p.TgZ(6,"h4"),p._uU(7,"Profil Toko"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"div",58),p.TgZ(9,"div",59),p._uU(10," Sebelum mengaktifkan fitur ini, mohon isikan terlebih dahulu profil toko Anda. "),p.qZA(),p.qZA(),p.TgZ(11,"div",60),p.TgZ(12,"button",62),p.NdJ("click",function(){return(0,p.CHM(t).close)(p.oxw().configurationStore())}),p._uU(13,"OK"),p.qZA(),p.qZA()}}let ki=(()=>{class t{constructor(t,i,e,r,n,g,l,p){this.formBuilder=t,this.requestService=i,this.apiModelTranslatorService=e,this.alertService=r,this.errorService=n,this.modalService=g,this.router=l,this.activatedRoute=p,this.loading=!0,this.pageName="",this.page=1,this.pageSize=5,this.totalData=0,this.startData=0,this.endData=0,this.user=new o.n,this.responseApi=new u.d,this.productList=new Array,this.productStatusEnum=s.P,this.inputSearchProduct=null,this.apiGetProduct=a.N.apiUrl+d.b.PRODUCT,this.apiGetMerchatLink=a.N.apiUrl+d.b.MERCHANT_LINK,this.productLinkBusiness="",this.modalUiIdProductActivate="",this.productLinkRoot=a.N.envUrl+"/"+c.q.ROUTING_RETAIL+"/"+c.q.ROUTING_MERCHANT+"/",this.productUiId=""}ngOnInit(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.initLoad(),this.user=this.requestService.getUserToken(),this.productLinkBusiness=yield this.getMerchantLink(),this.productLinkRoot=a.N.envUrl+"/"+c.q.ROUTING_RETAIL+"/"+c.q.ROUTING_MERCHANT+"/"+this.productLinkBusiness+"/"})}initLoad(){var t,i,e;return(0,n.mG)(this,void 0,void 0,function*(){this.getListInventory(this.page,this.pageSize,"DESC",this.inputSearchProduct);const r=null===(e=null===(i=null===(t=this.activatedRoute)||void 0===t?void 0:t.snapshot)||void 0===i?void 0:i.queryParamMap)||void 0===e?void 0:e.get("pageName");this.pageName=null!=r?r:"list"})}getListInventory(t,i,e,r){let n=new Map;n.set("page",t-1),n.set("size",i),n.set("sort",e),null!==r&&n.set("name",r),this.requestService.get(this.apiGetProduct,n).subscribe(t=>{this.productList=this.apiModelTranslatorService.snakeToCamelCase(t.products),this.totalData=t.pageable.total_data,this.startData=t.pageable.start_data,this.endData=t.pageable.end_data,this.loading=!1},t=>{this.responseApi=t.error,this.responseApi.error.code===l.X.MERCHANT_NOT_FOUND?this.router.navigate([c.q.ERROR_CUSTOM,g.R.KYB]):this.responseApi.error.code===l.X.MERCHANT_INACTIVE?this.modalService.open(this.configurationModal,{backdrop:"static",keyboard:!1}):this.errorService.getErrorApi(t)})}getMerchantLink(){return this.requestService.get(this.apiGetMerchatLink,null).toPromise().then(t=>t.merchant.link,t=>{this.errorService.getErrorApi(t)})}configurationStore(){window.parent.postMessage({func:"onNavigation",url:"/"+c.q.ROUTING_RETAIL+"/"+c.q.ROUTING_CONFIGURATION},"*")}copyMessage(t){const i=document.createElement("textarea");i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.opacity="0",i.value=t,document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i),this.alertService.setProps("Product Link is already copied",!1)}changePage(t,i){"edit"===t&&(this.productUiId=i),this.pageName=t}onPageChange(t,i){this.getListInventory(t,i,"DESC",this.inputSearchProduct)}openModalStatusProduct(t,i){this.modalUiIdProductActivate=i,this.modalService.open(t,{backdrop:"static",keyboard:!1})}activateProduct(){this.requestService.put(this.apiGetProduct+"/"+this.modalUiIdProductActivate+d.b.PRODUCT_ACTIVATE,null,null).subscribe(t=>{let i="";i=!1===t.current?"Nonaktif":"Aktif",this.alertService.setProps("Success! Status Product is "+i,!1),this.getListInventory(this.page,this.pageSize,"DESC",this.inputSearchProduct)},t=>{this.errorService.getErrorApi(t)})}decodeURI(t){return decodeURI(t)}findProductMerchant(){console.log(this.inputSearchProduct),this.getListInventory(this.page,this.pageSize,"DESC",this.inputSearchProduct)}}return t.\u0275fac=function(i){return new(i||t)(p.Y36(Z.qu),p.Y36(m.s),p.Y36(h.g),p.Y36(v.c),p.Y36(f.T),p.Y36(T.FF),p.Y36(A.F0),p.Y36(A.gz))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-inventory-list"]],viewQuery:function(t,i){if(1&t&&p.Gf(ni,5),2&t){let t;p.iGM(t=p.CRH())&&(i.configurationModal=t.first)}},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["loaded",""],["disableProduct",""],["enableProduct",""],["configurationModal",""],[1,"center"],["role","status",1,"spinner-border","text-primary","spinner-sm","mr-5"],[4,"ngIf"],[1,"row"],[1,"form-group","col-md-12","page-header"],[1,"card","card-body","mb-4"],[1,"form-group","row","mr-1","ml-1"],[2,"width","30%"],["type","text","placeholder","Cari nama produk","id","inputSearch",1,"form-control","dk-text-input",3,"ngModel","ngModelChange"],["id","iconSearch",1,"fas","fa-search","field-icon","pointer-cursor",3,"click"],[1,"d-flex","ml-auto"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus","in-icon"],[1,"card"],[1,"card-body"],[1,"table","table-responsive-sm","table-striped",2,"table-layout","fixed"],["scope","col"],["style","margin-top: 100px; margin-bottom: 100px",4,"ngIf"],[1,"d-flex","bd-highlight","mb-3"],[1,"custom-select","mr-auto","bd-highlight","align-middle",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"card-description","p-2","bd-highlight","align-middle"],[1,"p-2","bd-highlight","align-middle",3,"page","pageSize","collectionSize","maxSize","pageChange"],[4,"ngFor","ngForOf"],[1,"align-middle","text-ellipsis","text-ellipsis-breakable",3,"id"],[1,"image-container",3,"src"],[1,"align-middle",3,"id"],[1,"far","fa-copy",2,"cursor","pointer",3,"click"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[3,"id"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownAction","ngbDropdownToggle","",1,"btn","btn-outline-primary","dropdown-icon"],[1,"fa","fa-ellipsis-v"],["ngbDropdownMenu","","aria-labelledby","dropdownAction"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"click",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[2,"margin-top","100px","margin-bottom","100px"],[1,"d-flex","justify-content-center",2,"margin-bottom","20px"],[1,"fas","fa-search","fa-8x"],[1,"d-flex","justify-content-center"],[3,"productUiId"],[1,"modal-header"],[1,"modal-title"],[1,"event-icon","d-flex"],["src","https://cdn-dev.oss-ap-southeast-5.aliyuncs.com/doku-ui-framework/doku/img/modal-ornament/warning-icon.png","alt",""],[1,"header-content"],[1,"modal-body"],[1,"background"],[1,"modal-footer"],["type","button",1,"btn","btn-link",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"header-content","mt-auto","mb-auto"]],template:function(t,i){if(1&t&&(p.YNc(0,oi,3,0,"div",0),p.YNc(1,fi,3,3,"ng-template",null,1,p.W1O),p.YNc(3,Ti,16,0,"ng-template",null,2,p.W1O),p.YNc(5,Ai,16,0,"ng-template",null,3,p.W1O),p.YNc(7,qi,14,0,"ng-template",null,4,p.W1O)),2&t){const t=p.MAs(2);p.Q6J("ngIf",i.loading)("ngIfElse",t)}},directives:[r.O5,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.YN,Z.Kr,T.N9,r.sg,T.jt,T.iD,T.Vi,T.TH,lt,ri],pipes:[r.H9],styles:[".center[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:fixed;top:0;bottom:0;left:0;right:0;margin:auto}img.image-container[_ngcontent-%COMP%]{width:45px;height:45px;-o-object-fit:contain;object-fit:contain}"]}),t})();var xi=e(6385);const bi=[{path:"",component:ki,pathMatch:"full"}];let Ui=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[r.ez,A.Bz.forChild(bi),T.jF,Z.u5,T.XC,xi.A0,Z.UX,T.dT]]}),t})();p.B6R(lt,[r.O5,ki,Z._Y,Z.JL,Z.sg,T.o8,Z._,Z.Fj,Z.JJ,Z.u,Z.Q7,Z.c5,Z.nD,xi.w9,r.sg,xi.xv,Z.CE,Z.x0],[]),p.B6R(ri,[r.O5,ki,Z._Y,Z.JL,Z.sg,T.o8,Z._,Z.Fj,Z.JJ,Z.u,Z.Q7,Z.c5,Z.nD,xi.w9,r.sg,xi.xv,Z.CE,Z.x0],[])}}]);