"use strict";(self.webpackChunkrvn_retail_ui=self.webpackChunkrvn_retail_ui||[]).push([[48],{3048:function(e,i,t){t.r(i),t.d(i,{OrderModule:function(){return C}});var l=t(8583),r=t(7957),n=t(4762),a=t(2340),o=t(8412),s=t(4162),d=t(5973),u=t(1347);class p{}var g=t(1576),c=t(7716),m=t(1689),Z=t(3206),D=t(7199),h=t(6506),T=t(665),A=t(5770);function q(e,i){1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",2),c._UZ(2,"div",3),c.qZA(),c.qZA())}function v(e,i){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"span",11),c._uU(2,"Cek bukti pesanan di "),c.qZA(),c.TgZ(3,"span",30),c._uU(4),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(4),c.Oqu(null==e.orderDetail||null==e.orderDetail.customer?null:e.orderDetail.customer.email)}}function _(e,i){1&e&&(c.TgZ(0,"p",39),c._uU(1,"*This field is not valid input text"),c.qZA())}function f(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div"),c._UZ(1,"span",11),c.TgZ(2,"form",31),c.NdJ("ngSubmit",function(){return c.CHM(e),c.oxw(2).formEmail()}),c.TgZ(3,"div",32),c.TgZ(4,"label",33),c._uU(5,"Silahkan masukkan email Anda jika ingin menerima bukti pesanan:"),c.qZA(),c.TgZ(6,"div",34),c._UZ(7,"input",35),c.TgZ(8,"div",36),c.TgZ(9,"button",37),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).sendEmail()}),c._uU(10,"KIRIM"),c.qZA(),c.qZA(),c.qZA(),c.YNc(11,_,2,0,"p",38),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(2),c.Q6J("formGroup",e.emailForm),c.xp6(7),c.Q6J("disabled",!e.emailForm.valid),c.xp6(2),c.Q6J("ngIf",e.emailForm.get("email").hasError("invalidEmail"))}}function b(e,i){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c._UZ(2,"br"),c.TgZ(3,"span",40),c._uU(4,"Track order anda via "),c.TgZ(5,"a",41),c._uU(6,"shipper.id/tracking"),c.qZA(),c._uU(7," untuk memantau perjalanan paket yang anda kirimkan"),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.hij(" Tracking Id: ",e.orderDetail.shipping.trackingId," ")}}function U(e,i){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.hij(" No. Resi: ",e.orderDetail.shipping.awbNumber," ")}}function x(e,i){1&e&&(c.TgZ(0,"span"),c._uU(1," Tracking Id: 5j08725 "),c._UZ(2,"i",42),c._UZ(3,"br"),c.TgZ(4,"span",40),c._uU(5,"Silahkan untuk letakkan nomor resi/tracking pada paket anda, dan bisa untuk search via "),c.TgZ(6,"a",41),c._uU(7,"shipper.id/tracking"),c.qZA(),c._uU(8," untuk memantau perjalanan paket yang anda kirimkan. Pesanan yang diproses sebelum 15.00 akan diambil paketnya pada hari tersebut, selebihnya akan diambil di esok hari."),c.qZA(),c.qZA())}const y=function(e,i){return{"is-finished":e,"is-active":i}};function M(e,i){if(1&e&&(c.TgZ(0,"li",15),c.TgZ(1,"div",16),c.TgZ(2,"div",17),c.TgZ(3,"b"),c._uU(4," Pesanan Dikirim"),c.qZA(),c.qZA(),c.TgZ(5,"div",18),c._uU(6," Pesanan telah dikirim dari "),c._UZ(7,"br"),c._uU(8),c.qZA(),c.TgZ(9,"div",19),c._uU(10),c.ALo(11,"date"),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.Q6J("ngClass",c.WLB(6,y,null!==(null==e.orderDetail||null==e.orderDetail.milestones[1]?null:e.orderDetail.milestones[1].createdDate)&&null==(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate),null!==(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate)&&null==(null==e.orderDetail||null==e.orderDetail.milestones[3]?null:e.orderDetail.milestones[3].createdDate))),c.xp6(8),c.hij(" ",e.orderDetail.merchant.name," "),c.xp6(2),c.hij(" ",c.xi3(11,3,null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate,"dd MMMM yyyy, HH:mm:ss")," ")}}function k(e,i){if(1&e&&(c.TgZ(0,"li",15),c.TgZ(1,"div",16),c.TgZ(2,"div",17),c.TgZ(3,"b"),c._uU(4," Pesanan Telah Sampai di Tujuan"),c.qZA(),c.qZA(),c.TgZ(5,"div",18),c._uU(6," Pesanan akan segera diterima "),c._UZ(7,"br"),c._uU(8," sesuai estimasi waktu "),c.qZA(),c.TgZ(9,"div",19),c._uU(10),c.ALo(11,"date"),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.Q6J("ngClass",c.WLB(5,y,null!==(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate)&&null==(null==e.orderDetail||null==e.orderDetail.milestones[3]?null:e.orderDetail.milestones[3].createdDate),null!==(null==e.orderDetail||null==e.orderDetail.milestones[3]?null:e.orderDetail.milestones[3].createdDate)&&null==(null==e.orderDetail||null==e.orderDetail.milestones[4]?null:e.orderDetail.milestones[4].createdDate))),c.xp6(10),c.hij(" ",c.xi3(11,2,null==e.orderDetail||null==e.orderDetail.milestones[3]?null:e.orderDetail.milestones[3].createdDate,"dd MMMM yyyy, HH:mm:ss")," ")}}function I(e,i){if(1&e&&(c.TgZ(0,"li",43),c.TgZ(1,"div",16),c.TgZ(2,"div",17),c.TgZ(3,"b"),c._uU(4," Pesanan Selesai"),c.qZA(),c.qZA(),c.TgZ(5,"div",18),c._uU(6," Transaksi sukses dan pembeli "),c._UZ(7,"br"),c._uU(8," telah menerima pesanan "),c.qZA(),c.TgZ(9,"div",19),c._uU(10),c.ALo(11,"date"),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(10),c.hij(" ",c.xi3(11,1,null==e.orderDetail||null==e.orderDetail.milestones[4]?null:e.orderDetail.milestones[4].createdDate,"dd MMMM yyyy, HH:mm:ss")," ")}}function O(e,i){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",44),c.TgZ(2,"div",45),c._UZ(3,"img",46),c.qZA(),c.TgZ(4,"div",47),c.TgZ(5,"div",26),c.TgZ(6,"div",6),c.TgZ(7,"span",48),c._uU(8),c.qZA(),c.TgZ(9,"h6",11),c._uU(10),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",26),c.TgZ(12,"div",47),c.TgZ(13,"h4"),c._uU(14),c.ALo(15,"currency"),c.qZA(),c.qZA(),c.TgZ(16,"div",45),c.TgZ(17,"span",48),c._uU(18),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=i.$implicit,t=c.oxw().$implicit;c.xp6(3),c.Q6J("src",t.image,c.LSH),c.xp6(5),c.Oqu(t.name),c.xp6(2),c.Oqu(e.color),c.xp6(4),c.Oqu(c.gM2(15,5,e.price,"Rp ","symbol-narrow","1.0")),c.xp6(4),c.Oqu("x "+e.quantity)}}function N(e,i){if(1&e&&(c.TgZ(0,"div"),c.YNc(1,O,19,10,"div",25),c.qZA()),2&e){const e=i.$implicit;c.xp6(1),c.Q6J("ngForOf",e.items)}}function E(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",49),c.TgZ(2,"div",6),c.TgZ(3,"div",50),c.TgZ(4,"div",51),c.TgZ(5,"div",52),c.TgZ(6,"button",53),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).pesananDiterima()}),c._uU(7," PESANAN DITERIMA "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}}const w=function(e){return{"is-active":e}};function R(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",4),c.TgZ(1,"div",5),c.TgZ(2,"div",6),c.TgZ(3,"button",7),c.NdJ("click",function(){return c.CHM(e),c.oxw().detailPesanan()}),c._UZ(4,"i",8),c.qZA(),c.TgZ(5,"span",9),c._uU(6,"Detail Pesanan"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"div",10),c.TgZ(8,"div",6),c.TgZ(9,"span",11),c._uU(10,"Nomor Pesanan"),c.qZA(),c._UZ(11,"br"),c.TgZ(12,"span"),c.TgZ(13,"b"),c._uU(14),c.qZA(),c.qZA(),c._UZ(15,"br"),c._UZ(16,"br"),c.TgZ(17,"span",11),c._uU(18,"Tanggal Pemesanan"),c.qZA(),c._UZ(19,"br"),c.TgZ(20,"span"),c.TgZ(21,"b"),c._uU(22),c.ALo(23,"date"),c.qZA(),c.qZA(),c._UZ(24,"br"),c._UZ(25,"br"),c.YNc(26,v,5,1,"div",12),c.YNc(27,f,12,3,"div",12),c._UZ(28,"hr"),c.qZA(),c.qZA(),c.TgZ(29,"div",10),c.TgZ(30,"div",6),c.TgZ(31,"h4"),c._uU(32,"Alamat Pengiriman"),c.qZA(),c._UZ(33,"br"),c.TgZ(34,"span"),c.TgZ(35,"b"),c._uU(36),c.qZA(),c.qZA(),c._UZ(37,"br"),c.TgZ(38,"span"),c._uU(39),c.qZA(),c._UZ(40,"br"),c.TgZ(41,"span"),c._uU(42),c.qZA(),c._UZ(43,"hr"),c.qZA(),c.qZA(),c.TgZ(44,"div",10),c.TgZ(45,"div",6),c.TgZ(46,"span"),c.TgZ(47,"b"),c._uU(48),c.qZA(),c.qZA(),c.TgZ(49,"span"),c._uU(50),c.qZA(),c._UZ(51,"br"),c.YNc(52,b,8,1,"span",12),c.YNc(53,U,2,1,"span",12),c.YNc(54,x,9,0,"span",12),c.qZA(),c.qZA(),c.TgZ(55,"div",13),c.TgZ(56,"div",6),c.TgZ(57,"div",14),c.TgZ(58,"ul"),c.TgZ(59,"li",15),c.TgZ(60,"div",16),c.TgZ(61,"div",17),c.TgZ(62,"b"),c._uU(63," Pembayaran Dikonfirmasi"),c.qZA(),c.qZA(),c.TgZ(64,"div",18),c._uU(65," Pembayaran telah dikofirmasi dan "),c._UZ(66,"br"),c._uU(67," akan diteruskan ke penjual "),c.qZA(),c.TgZ(68,"div",19),c._uU(69),c.ALo(70,"date"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(71,"li",15),c.TgZ(72,"div",16),c.TgZ(73,"div",17),c.TgZ(74,"b"),c._uU(75," Pesanan Diproses"),c.qZA(),c.qZA(),c.TgZ(76,"div",18),c._uU(77," Pesanan Anda sedang diproses oleh penjual "),c.qZA(),c.TgZ(78,"div",19),c._uU(79),c.ALo(80,"date"),c.qZA(),c.qZA(),c.qZA(),c.YNc(81,M,12,9,"li",20),c.YNc(82,k,12,8,"li",20),c.YNc(83,I,12,4,"li",21),c.qZA(),c.qZA(),c._UZ(84,"hr"),c.qZA(),c.qZA(),c.TgZ(85,"div",22),c.TgZ(86,"div",6),c._UZ(87,"img",23),c.TgZ(88,"span",24),c._uU(89),c.qZA(),c.qZA(),c.qZA(),c.YNc(90,N,2,1,"div",25),c.TgZ(91,"div",13),c.TgZ(92,"div",6),c.TgZ(93,"div",26),c.TgZ(94,"div",27),c.TgZ(95,"span"),c.TgZ(96,"b"),c._uU(97),c.qZA(),c.qZA(),c._UZ(98,"br"),c.TgZ(99,"span"),c.TgZ(100,"b"),c._uU(101,"Ongkos Kirim"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(102,"div",28),c.TgZ(103,"span"),c.TgZ(104,"b"),c._uU(105),c.ALo(106,"currency"),c.qZA(),c.qZA(),c._UZ(107,"br"),c.TgZ(108,"span"),c.TgZ(109,"b"),c._uU(110),c.ALo(111,"currency"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(112,"hr"),c.TgZ(113,"div",26),c.TgZ(114,"div",27),c.TgZ(115,"span"),c.TgZ(116,"b"),c._uU(117,"Total Pembayaran"),c.qZA(),c.qZA(),c._UZ(118,"br"),c.TgZ(119,"span"),c.TgZ(120,"b"),c._uU(121,"Metode Pembayaran"),c.qZA(),c.qZA(),c._UZ(122,"br"),c.TgZ(123,"span"),c.TgZ(124,"b"),c._uU(125,"Asuransi Pengiriman"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(126,"div",28),c.TgZ(127,"h4",29),c.TgZ(128,"b"),c._uU(129),c.ALo(130,"currency"),c.qZA(),c.qZA(),c.TgZ(131,"span"),c.TgZ(132,"b"),c._uU(133),c.qZA(),c.qZA(),c._UZ(134,"br"),c.TgZ(135,"span"),c.TgZ(136,"b"),c._uU(137),c.ALo(138,"currency"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(139,E,8,0,"div",12),c.qZA()}if(2&e){const e=c.oxw();c.xp6(14),c.Oqu(null==e.orderDetail?null:e.orderDetail.invoiceNumber),c.xp6(8),c.Oqu(c.xi3(23,29,null==e.orderDetail?null:e.orderDetail.createdDate,"dd MMMM yyyy, HH:mm:ss z")),c.xp6(4),c.Q6J("ngIf",""!==(null==e.orderDetail||null==e.orderDetail.customer?null:e.orderDetail.customer.email)),c.xp6(1),c.Q6J("ngIf",""===(null==e.orderDetail||null==e.orderDetail.customer?null:e.orderDetail.customer.email)),c.xp6(9),c.Oqu(null==e.orderDetail||null==e.orderDetail.customer?null:e.orderDetail.customer.name),c.xp6(3),c.Oqu(null==e.orderDetail||null==e.orderDetail.customer?null:e.orderDetail.customer.phoneNumber),c.xp6(3),c.Oqu(null==e.orderDetail||null==e.orderDetail.customer?null:e.orderDetail.customer.detailAddress),c.xp6(6),c.Oqu((null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.name)+" - "+(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.rateName)),c.xp6(2),c.hij(" (Akan diterima pada ",e.addDate(1,3,e.orderDetail.createdDate),")"),c.xp6(2),c.Q6J("ngIf",null!=(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate)&&""!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.trackingId)&&null!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.trackingId)&&(""==(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.awbNumber)||null==(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.awbNumber))),c.xp6(1),c.Q6J("ngIf",null!=(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate)&&""!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.awbNumber)&&null!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.awbNumber)),c.xp6(1),c.Q6J("ngIf",!(null==(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate)||""!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.trackingId)&&null!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.trackingId)||""!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.awbNumber)&&null!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.awbNumber)||0!=(null==e.orderDetail||null==e.orderDetail.shipping?null:e.orderDetail.shipping.digitalGoods)||e.envUrl===e.envSimulatorNotExist)),c.xp6(5),c.Q6J("ngClass",c.VKq(58,w,null!==(null==e.orderDetail||null==e.orderDetail.milestones[0]?null:e.orderDetail.milestones[0].createdDate)&&null==(null==e.orderDetail||null==e.orderDetail.milestones[1]?null:e.orderDetail.milestones[1].createdDate))),c.xp6(10),c.hij(" ",c.xi3(70,32,null==e.orderDetail||null==e.orderDetail.milestones[0]?null:e.orderDetail.milestones[0].createdDate,"dd MMMM yyyy, HH:mm:ss")," "),c.xp6(2),c.Q6J("ngClass",c.WLB(60,y,null!==(null==e.orderDetail||null==e.orderDetail.milestones[0]?null:e.orderDetail.milestones[0].createdDate)&&null==(null==e.orderDetail||null==e.orderDetail.milestones[1]?null:e.orderDetail.milestones[1].createdDate),null!==(null==e.orderDetail||null==e.orderDetail.milestones[1]?null:e.orderDetail.milestones[1].createdDate)&&null==(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate))),c.xp6(8),c.hij(" ",c.xi3(80,35,null==e.orderDetail||null==e.orderDetail.milestones[1]?null:e.orderDetail.milestones[1].createdDate,"dd MMMM yyyy, HH:mm:ss")," "),c.xp6(2),c.Q6J("ngIf",null!=(null==e.orderDetail||null==e.orderDetail.milestones[0]?null:e.orderDetail.milestones[0].createdDate)&&null!=(null==e.orderDetail||null==e.orderDetail.milestones[1]?null:e.orderDetail.milestones[1].createdDate)),c.xp6(1),c.Q6J("ngIf",null!=(null==e.orderDetail||null==e.orderDetail.milestones[1]?null:e.orderDetail.milestones[1].createdDate)&&null!=(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate)),c.xp6(1),c.Q6J("ngIf",null!=(null==e.orderDetail||null==e.orderDetail.milestones[2]?null:e.orderDetail.milestones[2].createdDate)&&null!=(null==e.orderDetail||null==e.orderDetail.milestones[3]?null:e.orderDetail.milestones[3].createdDate)),c.xp6(4),c.Q6J("src",null==e.orderDetail||null==e.orderDetail.merchant?null:e.orderDetail.merchant.image,c.LSH),c.xp6(2),c.Oqu(null==e.orderDetail||null==e.orderDetail.merchant?null:e.orderDetail.merchant.name),c.xp6(1),c.Q6J("ngForOf",e.orderDetail.products),c.xp6(7),c.hij("Total Harga (",e.totalProduct," Produk)"),c.xp6(8),c.Oqu(c.gM2(106,38,e.orderDetail.payment.itemsPrice,"Rp ","symbol-narrow","1.0")),c.xp6(5),c.Oqu(c.gM2(111,43,e.orderDetail.payment.shippingPrice,"Rp ","symbol-narrow","1.0")),c.xp6(19),c.Oqu(c.gM2(130,48,e.orderDetail.payment.amount,"Rp ","symbol-narrow","1.0")),c.xp6(4),c.Oqu(e.orderDetail.payment.channel),c.xp6(4),c.Oqu(c.gM2(138,53,e.orderDetail.payment.insurancePrice,"Rp ","symbol-narrow","1.0")),c.xp6(2),c.Q6J("ngIf",null!=(null==e.orderDetail||null==e.orderDetail.milestones[3]?null:e.orderDetail.milestones[3].createdDate)&&null==(null==e.orderDetail||null==e.orderDetail.milestones[4]?null:e.orderDetail.milestones[4].createdDate))}}const P=[{path:"",component:(()=>{class e{constructor(e,i,t,l,r,n){this.activatedRoute=e,this.requestService=i,this.apiModelTranslatorService=t,this.errorService=l,this.alertService=r,this.formBuilder=n,this.loading=!0,this.orderDetail=new d.dn,this.envUrl=a.N.envUrl,this.envSimulatorNotExist=g.q.ENV_SIMULATOR_NOT_EXIST,this.totalProduct=0}ngOnInit(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.activatedRoute.params.subscribe(e=>{this.uiIdInvoice=e.uiIdInvoice,this.businessName=e.businessName}),yield this.initLoad(),this.formEmail()})}initLoad(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.checkOrder()})}formEmail(){this.emailForm=this.formBuilder.group({email:[null,[u.T.emailValidator]]})}checkOrder(){return(0,n.mG)(this,void 0,void 0,function*(){let e=a.N.apiUrl+o.b.ORDER,i=new Map;i.set("uiId",this.uiIdInvoice);let t=yield this.requestService.get(e,i).toPromise().then(e=>this.apiModelTranslatorService.snakeToCamelCase(e),e=>{this.errorService.getErrorApi(e)});t.paymentStatus===s.b.Paid?(this.loading=!1,yield this.getDetailOrder()):""!==t.redirectUrl||null!==t.redirectUrl?window.location.href=t.redirectUrl:this.alertService.setProps("Mohon maaf terjadi kesalahan, mohon coba kembali",!0)})}getDetailOrder(){return(0,n.mG)(this,void 0,void 0,function*(){let e=a.N.apiUrl+o.b.ORDER_DETAIL,i=new Map;i.set("uiId",this.uiIdInvoice),yield this.requestService.get(e,i).toPromise().then(e=>(this.orderDetail=this.apiModelTranslatorService.snakeToCamelCase(e),this.orderDetail.milestones=this.orderDetail.milestones.sort((e,i)=>e.order-i.order),this.totalProduct=this.orderDetail.products.reduce((e,i)=>e+i.items.reduce((e,i)=>e+i.quantity,0),0),this.orderDetail),e=>{this.errorService.getErrorApi(e)})})}detailPesanan(){}addDate(e,i,t){let r;r=void 0===t?new Date:new Date(t);const n="MMMM",a="id";let o=r.setDate(r.getDate()+e),s=r.setDate(r.getDate()+i);const d=(0,l.p6)(o,"dd",a),u=(0,l.p6)(s,"dd",a),p=(0,l.p6)(o,n,a),g=(0,l.p6)(o,n,a);return p===g?d+" - "+u+" "+g:d+" "+p+" - "+u+" "+g}fileProgress(e,i){this.fileData=e.target.files[0],void 0!==this.fileData&&this.preview(i)}preview(e){var i;if(null===(null===(i=this.fileData)||void 0===i?void 0:i.type).match("image.*"))return void this.alertService.setProps("Failed Upload Type",!0);if(this.fileData.size>1e6)return void this.alertService.setProps("Size more than 1 MB",!0);let t=new FileReader;t.readAsDataURL(this.fileData),t.onload=e=>{let i=new Image;i.src=t.result,i.onload=()=>{i.naturalHeight<300||i.naturalWidth<300?this.alertService.setProps("Minimum width and height 300",!0):(this.previewImageProduct1=t.result,this.imageToUpload1=this.fileData)}}}pesananDiterima(){this.loading=!0;let e=a.N.apiUrl+o.b.ORDER_COMPLETE,i=new Map;i.set("uiId",this.uiIdInvoice),this.requestService.post(e,i,null).toPromise().then(e=>(0,n.mG)(this,void 0,void 0,function*(){yield this.getDetailOrder(),this.loading=!1}),e=>{this.errorService.getErrorApi(e)})}sendEmail(){if(this.emailForm.valid){this.loading=!0;let e=a.N.apiUrl+o.b.ORDER_SEND_EMAIL,i=new p;i.email=this.emailForm.get("email").value,i.uiId=this.uiIdInvoice,this.requestService.post(e,null,this.apiModelTranslatorService.camelToSnakeCase(i)).toPromise().then(e=>(0,n.mG)(this,void 0,void 0,function*(){this.loading=!1}),e=>{this.errorService.getErrorApi(e)})}}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(r.gz),c.Y36(m.s),c.Y36(Z.g),c.Y36(D.T),c.Y36(h.c),c.Y36(T.qu))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-order-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loaded",""],[1,"center"],["role","status",1,"spinner-border","text-primary","spinner-sm","mr-5"],[1,"container-mobile"],[1,"row","pt-3"],[1,"col-12"],["id","backButton","type","button",1,"btn",3,"click"],[1,"fas","fa-arrow-left"],[2,"font-size","16px","font-weight","bold"],[1,"row","pl-3","pr-3"],[1,"text-muted"],[4,"ngIf"],[1,"row","p-3"],[1,"timeline","timeline-vertical","timeline-progress","timeline-primary"],[3,"ngClass"],[1,"description"],[1,"desc_title"],[1,"desc_content"],[1,"desc_time",2,"width","160px"],[3,"ngClass",4,"ngIf"],["class","is-finished",4,"ngIf"],[1,"row","pl-3","pr-3","mb-3"],[2,"height","24px","width","24px","border-radius","50%",3,"src"],[1,"ml-3",2,"font-size","16px","font-weight","bold"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],[1,"text-success"],[1,"font-weight-bold"],["id","emailForm",1,"pt-10",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],[1,"input-group"],["type","text","id","email","formControlName","email","placeholder","name@email.com",1,"form-control","dk-text-input"],[1,"input-group-append"],["type","button","id","submitEmail",1,"btn","btn-primary","dk-btn-group",3,"disabled","click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[2,"text-align","justify","display","block"],["href","https://shipper.id/tracking"],["ngbTooltip","Tracking Id Simulasi",1,"fas","fa-info-circle","text-primary","ml-2"],[1,"is-finished"],[1,"row","mb-2","px-3"],[1,"col-2"],[2,"height","64px","width","100%",3,"src"],[1,"col-10"],[2,"font-size","16px"],[1,"row","mt-4"],[1,"bottom-card"],[1,"row","px-3"],[1,"col-12","mt-3"],["id","pesananDiterima","type","button",1,"btn","btn-primary",2,"width","100%",3,"click"]],template:function(e,i){if(1&e&&(c.YNc(0,q,3,0,"div",0),c.YNc(1,R,140,63,"ng-template",null,1,c.W1O)),2&e){const e=c.MAs(2);c.Q6J("ngIf",i.loading)("ngIfElse",e)}},directives:[l.O5,l.mk,l.sg,T._Y,T.JL,T.sg,T.Fj,T.JJ,T.u,A._L],pipes:[l.uU,l.H9],styles:[".center[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:fixed;top:0;bottom:0;left:0;right:0;margin:auto}.container-mobile[_ngcontent-%COMP%]{min-width:360px;max-width:600px;margin:-24px auto -45px;background-color:#fff;min-height:100vh;position:relative}@media (max-width: 768px){.container-mobile[_ngcontent-%COMP%]{margin:-24px -24px -45px}}img.image-container[_ngcontent-%COMP%]{width:110px;height:110px;-o-object-fit:contain;object-fit:contain}.responsive-layout[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.responsive-layout[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:first-child, .responsive-layout[_ngcontent-%COMP%]{margin-right:16px}@media (max-width: 768px){.responsive-layout[_ngcontent-%COMP%]{display:block}.responsive-layout[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .responsive-layout[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}}.bottom-card[_ngcontent-%COMP%]{box-shadow:0 -2px 10px rgba(0,0,0,.1);border-radius:16px 16px 0 0;margin:0;padding-top:24px;padding-bottom:32px}"]}),e})(),pathMatch:"full"}];let C=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[l.ez,r.Bz.forChild(P),T.UX,T.u5,A.HK]]}),e})()},8412:function(e,i,t){t.d(i,{b:function(){return l}});let l=(()=>{class e{}return e.PRODUCT="/product",e.PRODUCT_CATEGORY="/product/category",e.PRODUCT_ACTIVATE="/active",e.PRODUCT_DETAIL="/detail",e.PRODUCT_IMAGES="/image",e.PRODUCT_VARIANT="/product/variant",e.MERCHANT="/merchant",e.MERCHANT_IMAGE="/image",e.MERCHANT_LINK="/merchant/link",e.MERCHANT_ORDER="/merchant/order",e.MERCHANT_DASHBOARD="/merchant/dashboard",e.MERCHANT_ORDER_DETAIL="/detail",e.MERCHANT_ORDER_PROCESS="/process",e.MERCHANT_ORDER_SEND="/send",e.LOCATION="/location",e.LINK="/link",e.LINK_MERCHANT_DETAIL="/detail",e.LINK_MERCHANT_PRODUCTS="/products",e.LINK_MERCHANT_CATEGORY="/category",e.CART="/cart",e.SHIPPING="/shipping",e.CHECKOUT="/checkout",e.ORDER="/order",e.ORDER_DETAIL="/order/detail",e.ORDER_COMPLETE="/order/complete",e.ORDER_SEND_EMAIL="/order/email/send",e.INTERNAL="/internal",e.INTERNAL_LIST="/internal/product",e.INTERNAL_VALIDATE="/validate",e.INTERNAL_CATEGORY="/category",e})()}}]);