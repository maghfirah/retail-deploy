"use strict";(self.webpackChunkrvn_retail_ui=self.webpackChunkrvn_retail_ui||[]).push([[119],{7119:function(t,e,i){i.r(e),i.d(e,{InternalModule:function(){return Jt}});var o=i(8583),r=i(4762),n=i(2340),a=i(6473),d=i(3709),u=i(5320),c=i(3595),l=i(8412),s=(()=>{return(t=s||(s={})).Active="ACTIVE",t.Inactive="INACTIVE",t.Rejected="REJECTED",t.Waiting="WAITING",s;var t})(),g=i(7716),p=i(665),h=i(1689),Z=i(3206),m=i(6506),f=i(7199),v=i(5770),T=i(66),A=(()=>((A||(A={})).DigitalGoods="Digital Goods",A))(),q=i(2562),x=i(8259),k=i.n(x),P=(()=>{return(t=P||(P={})).Others="Others",t.Drugs="Produk yang dijual adalah produk terlarang",t.Capacity="Melebihi batas maksimal produk per toko",t.Expired="Produk telah kadaluwarsa",P;var t})();class b{}var U=i(9917),I=i(7957);function y(t,e){1&t&&(g.TgZ(0,"div"),g.TgZ(1,"div",4),g._UZ(2,"div",5),g.qZA(),g.qZA())}function N(t,e){1&t&&(g.ynx(0),g._UZ(1,"app-internal-list"),g.BQk())}function _(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function C(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function w(t,e){1&t&&(g.TgZ(0,"div"),g._UZ(1,"i",49),g.TgZ(2,"p"),g._uU(3,"Pilih Gambar"),g.qZA(),g.qZA())}function S(t,e){if(1&t&&(g.TgZ(0,"div"),g._UZ(1,"img",50),g.qZA()),2&t){const t=g.oxw(3);g.xp6(1),g.Q6J("src",t.previewImageProduct1,g.LSH)}}function J(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function M(t,e){1&t&&(g.TgZ(0,"div"),g._UZ(1,"i",49),g.TgZ(2,"p"),g._uU(3,"Pilih Gambar"),g.qZA(),g.qZA())}function E(t,e){if(1&t&&(g.TgZ(0,"div"),g._UZ(1,"img",50),g.qZA()),2&t){const t=g.oxw(3);g.xp6(1),g.Q6J("src",t.previewImageProduct2,g.LSH)}}function R(t,e){1&t&&(g.TgZ(0,"div"),g._UZ(1,"i",49),g.TgZ(2,"p"),g._uU(3,"Pilih Gambar"),g.qZA(),g.qZA())}function Q(t,e){if(1&t&&(g.TgZ(0,"div"),g._UZ(1,"img",50),g.qZA()),2&t){const t=g.oxw(3);g.xp6(1),g.Q6J("src",t.previewImageProduct3,g.LSH)}}function F(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function D(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function O(t,e){if(1&t&&(g.TgZ(0,"ng-option",51),g._uU(1),g.qZA()),2&t){const t=e.$implicit;g.Q6J("value",t.name),g.xp6(1),g.Oqu(t.name)}}function Y(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function L(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function G(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function H(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function j(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function V(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function z(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function B(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function $(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function W(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function K(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function X(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function tt(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function et(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function it(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function ot(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",14),g.TgZ(1,"div",15),g.TgZ(2,"h5"),g._uU(3,"Berat Produk"),g.qZA(),g.qZA(),g.TgZ(4,"div",15),g.TgZ(5,"div",35),g.TgZ(6,"input",64),g.NdJ("keypress",function(e){return g.CHM(t),g.oxw(4).validationService.decimalOnly(e)}),g.qZA(),g.TgZ(7,"div",36),g.TgZ(8,"span",65),g._uU(9,"Kilogram (kg)"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,et,2,0,"div",17),g.YNc(11,it,2,0,"div",17),g.qZA()}if(2&t){const t=g.oxw(),e=t.index,i=t.$implicit;g.xp6(6),g.MGl("id","weight- + ",e,""),g.xp6(4),g.Q6J("ngIf",i.get("weight").hasError("required")&&(i.get("weight").dirty||i.get("weight").touched)),g.xp6(1),g.Q6J("ngIf",i.get("weight").hasError("pattern"))}}function rt(t,e){1&t&&(g.TgZ(0,"div",74),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function nt(t,e){1&t&&(g.TgZ(0,"div",74),g._uU(1,"*This field is not valid input text"),g.qZA())}function at(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function dt(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function ut(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function ct(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function lt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",14),g.TgZ(1,"div",15),g.TgZ(2,"h5"),g._uU(3,"Ukuran Produk"),g.qZA(),g.qZA(),g.TgZ(4,"div",66),g.TgZ(5,"div",19),g.TgZ(6,"div",35),g.TgZ(7,"input",67),g.NdJ("keypress",function(e){return g.CHM(t),g.oxw(4).validationService.numberOnly(e)}),g.qZA(),g.TgZ(8,"div",36),g.TgZ(9,"span",68),g._uU(10,"cm"),g.qZA(),g.qZA(),g.qZA(),g.YNc(11,rt,2,0,"div",69),g.YNc(12,nt,2,0,"div",69),g.qZA(),g.TgZ(13,"div",19),g.TgZ(14,"div",35),g.TgZ(15,"input",70),g.NdJ("keypress",function(e){return g.CHM(t),g.oxw(4).validationService.numberOnly(e)}),g.qZA(),g.TgZ(16,"div",36),g.TgZ(17,"span",71),g._uU(18,"cm"),g.qZA(),g.qZA(),g.qZA(),g.YNc(19,at,2,0,"div",17),g.YNc(20,dt,2,0,"div",17),g.qZA(),g.TgZ(21,"div",19),g.TgZ(22,"div",35),g.TgZ(23,"input",72),g.NdJ("keypress",function(e){return g.CHM(t),g.oxw(4).validationService.numberOnly(e)}),g.qZA(),g.TgZ(24,"div",36),g.TgZ(25,"span",73),g._uU(26,"cm"),g.qZA(),g.qZA(),g.qZA(),g.YNc(27,ut,2,0,"div",17),g.YNc(28,ct,2,0,"div",17),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=g.oxw(),e=t.index,i=t.$implicit;g.xp6(7),g.MGl("id","length- + ",e,""),g.xp6(4),g.Q6J("ngIf",i.get("length").hasError("required")&&(i.get("length").dirty||i.get("length").touched)),g.xp6(1),g.Q6J("ngIf",i.get("length").hasError("pattern")),g.xp6(3),g.MGl("id","width- + ",e,""),g.xp6(4),g.Q6J("ngIf",i.get("width").hasError("required")&&(i.get("width").dirty||i.get("width").touched)),g.xp6(1),g.Q6J("ngIf",i.get("width").hasError("pattern")),g.xp6(3),g.MGl("id","height- + ",e,""),g.xp6(4),g.Q6J("ngIf",i.get("height").hasError("required")&&(i.get("height").dirty||i.get("height").touched)),g.xp6(1),g.Q6J("ngIf",i.get("height").hasError("pattern"))}}function st(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function gt(t,e){1&t&&(g.TgZ(0,"div",48),g._uU(1,"*This field is not valid input text"),g.qZA())}function pt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",52),g.TgZ(1,"div",53),g.TgZ(2,"div",54),g.TgZ(3,"h4"),g._uU(4),g.qZA(),g.qZA(),g.TgZ(5,"button",55),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw(3).inactiveVariant(e.get("uiId").value)}),g._UZ(6,"i",56),g._uU(7," INACTIVE VARIAN "),g.qZA(),g.qZA(),g.TgZ(8,"div",14),g.TgZ(9,"div",15),g.TgZ(10,"h5"),g._uU(11,"Varian"),g.qZA(),g.qZA(),g.TgZ(12,"div",15),g._UZ(13,"input",57),g.qZA(),g.YNc(14,z,2,0,"div",17),g.YNc(15,B,2,0,"div",17),g.qZA(),g.TgZ(16,"div",14),g.TgZ(17,"div",15),g.TgZ(18,"h5"),g._uU(19,"Stok"),g.qZA(),g.qZA(),g.TgZ(20,"div",15),g.TgZ(21,"input",58),g.NdJ("keypress",function(e){return g.CHM(t),g.oxw(3).validationService.numberOnly(e)}),g.qZA(),g.qZA(),g.YNc(22,$,2,0,"div",17),g.YNc(23,W,2,0,"div",17),g.qZA(),g.TgZ(24,"div",14),g.TgZ(25,"div",15),g.TgZ(26,"h5"),g._uU(27,"Harga Produk"),g.qZA(),g.qZA(),g.TgZ(28,"div",15),g.TgZ(29,"div",35),g.TgZ(30,"div",36),g.TgZ(31,"span",59),g._uU(32,"Rp"),g.qZA(),g.qZA(),g.TgZ(33,"input",60),g.NdJ("keypress",function(e){return g.CHM(t),g.oxw(3).validationService.numberOnly(e)}),g.qZA(),g.qZA(),g.TgZ(34,"small",61),g._uU(35,"Harga minimum Rp 10.000"),g.qZA(),g.qZA(),g.YNc(36,K,2,0,"div",17),g.YNc(37,X,2,0,"div",17),g.YNc(38,tt,2,0,"div",17),g.qZA(),g.YNc(39,ot,12,3,"div",62),g.YNc(40,lt,29,9,"div",62),g.TgZ(41,"div",14),g.TgZ(42,"div",15),g.TgZ(43,"h5"),g._uU(44,"Minimal Pembelian"),g.qZA(),g.qZA(),g.TgZ(45,"div",15),g.TgZ(46,"input",63),g.NdJ("keypress",function(e){return g.CHM(t),g.oxw(3).validationService.numberOnly(e)}),g.qZA(),g.qZA(),g.YNc(47,st,2,0,"div",17),g.YNc(48,gt,2,0,"div",17),g.qZA(),g.qZA()}if(2&t){const t=e.$implicit,i=e.index,o=g.oxw(3);g.Q6J("formGroupName",i),g.xp6(4),g.hij("Varian Produk ",i+1,""),g.xp6(1),g.MGl("id","inactiveVariant- +  ",i,""),g.xp6(8),g.MGl("id","color- + ",i,""),g.xp6(1),g.Q6J("ngIf",t.get("color").hasError("required")&&(t.get("color").dirty||t.get("color").touched)),g.xp6(1),g.Q6J("ngIf",t.get("color").hasError("pattern")),g.xp6(6),g.MGl("id","stock- + ",i,""),g.xp6(1),g.Q6J("ngIf",t.get("stock").hasError("required")&&(t.get("stock").dirty||t.get("stock").touched)),g.xp6(1),g.Q6J("ngIf",t.get("stock").hasError("pattern")),g.xp6(10),g.MGl("id","price- + ",i,""),g.xp6(3),g.Q6J("ngIf",t.get("price").hasError("required")&&(t.get("price").dirty||t.get("price").touched)),g.xp6(1),g.Q6J("ngIf",t.get("price").hasError("pattern")),g.xp6(1),g.Q6J("ngIf",t.get("price").hasError("min")),g.xp6(1),g.Q6J("ngIf",o.editProductForm.get("category").value!==o.categoryDigitalGoods.DigitalGoods),g.xp6(1),g.Q6J("ngIf",o.editProductForm.get("category").value!==o.categoryDigitalGoods.DigitalGoods),g.xp6(6),g.MGl("id","minimumOrder- + ",i,""),g.xp6(1),g.Q6J("ngIf",t.get("minimumOrder").hasError("required")&&(t.get("minimumOrder").dirty||t.get("minimumOrder").touched)),g.xp6(1),g.Q6J("ngIf",t.get("minimumOrder").hasError("pattern"))}}function ht(t,e){if(1&t){const t=g.EpF();g.ynx(0),g.TgZ(1,"div",7),g.TgZ(2,"div",8),g.TgZ(3,"h3"),g._uU(4,"Detail Produk"),g.qZA(),g.TgZ(5,"p"),g._uU(6,"Approve atau Reject detail produk dari Merchant"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div",9),g.TgZ(8,"div",10),g.TgZ(9,"div",7),g.TgZ(10,"div",11),g.TgZ(11,"form",12),g.NdJ("ngSubmit",function(){return g.CHM(t),g.oxw(2).submitEditProduct()}),g.TgZ(12,"div",13),g.TgZ(13,"h4"),g._uU(14,"Informasi Produk"),g.qZA(),g.qZA(),g.TgZ(15,"div",14),g.TgZ(16,"div",15),g.TgZ(17,"h5"),g._uU(18,"ID Produk"),g.qZA(),g.qZA(),g.TgZ(19,"div",15),g._UZ(20,"input",16),g.qZA(),g.YNc(21,_,2,0,"div",17),g.YNc(22,C,2,0,"div",17),g.qZA(),g.TgZ(23,"div",14),g.TgZ(24,"div",15),g.TgZ(25,"h5"),g._uU(26,"Unggah Foto"),g.qZA(),g.qZA(),g.TgZ(27,"div",15),g.TgZ(28,"span"),g._uU(29,"Picture upload is mandatory, maximum size is 1 MB. File must be .jpg or .png"),g.qZA(),g.qZA(),g.TgZ(30,"div",18),g.TgZ(31,"div",19),g.TgZ(32,"div",20),g.TgZ(33,"div",21),g.TgZ(34,"label",22),g.YNc(35,w,4,0,"div",6),g.YNc(36,S,2,1,"div",6),g.qZA(),g.TgZ(37,"input",23),g.NdJ("change",function(e){return g.CHM(t),g.oxw(2).fileProgress(e,"previewImageProduct1")}),g.qZA(),g.qZA(),g.qZA(),g.YNc(38,J,2,0,"div",17),g.qZA(),g.TgZ(39,"div",19),g.TgZ(40,"div",20),g.TgZ(41,"div",21),g.TgZ(42,"label",24),g.YNc(43,M,4,0,"div",6),g.YNc(44,E,2,1,"div",6),g.qZA(),g.TgZ(45,"input",25),g.NdJ("change",function(e){return g.CHM(t),g.oxw(2).fileProgress(e,"previewImageProduct2")}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(46,"div",19),g.TgZ(47,"div",20),g.TgZ(48,"div",21),g.TgZ(49,"label",26),g.YNc(50,R,4,0,"div",6),g.YNc(51,Q,2,1,"div",6),g.qZA(),g.TgZ(52,"input",27),g.NdJ("change",function(e){return g.CHM(t),g.oxw(2).fileProgress(e,"previewImageProduct3")}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(53,"div",14),g.TgZ(54,"div",15),g.TgZ(55,"h5"),g._uU(56,"Nama Produk"),g.qZA(),g.qZA(),g.TgZ(57,"div",15),g._UZ(58,"input",28),g.qZA(),g.YNc(59,F,2,0,"div",17),g.YNc(60,D,2,0,"div",17),g.qZA(),g.TgZ(61,"div",14),g.TgZ(62,"div",15),g.TgZ(63,"h5"),g._uU(64,"Kategori"),g.qZA(),g.qZA(),g.TgZ(65,"div",15),g.TgZ(66,"ng-select",29),g.NdJ("change",function(){return g.CHM(t),g.oxw(2).validateDigitalGoods()}),g.YNc(67,O,2,2,"ng-option",30),g.qZA(),g.qZA(),g.YNc(68,Y,2,0,"div",17),g.qZA(),g.TgZ(69,"div",14),g.TgZ(70,"div",15),g.TgZ(71,"h5"),g._uU(72,"Kondisi"),g.qZA(),g.qZA(),g.TgZ(73,"div",15),g._UZ(74,"input",31),g.TgZ(75,"span",32),g._uU(76," Baru"),g.qZA(),g._UZ(77,"input",33),g.TgZ(78,"span"),g._uU(79," Bekas"),g.qZA(),g.qZA(),g.YNc(80,L,2,0,"div",17),g.qZA(),g.TgZ(81,"div",14),g.TgZ(82,"div",15),g.TgZ(83,"h5"),g._uU(84,"Deskripsi Produk"),g.qZA(),g.qZA(),g.TgZ(85,"div",15),g._UZ(86,"textarea",34),g.qZA(),g.YNc(87,G,2,0,"div",17),g.YNc(88,H,2,0,"div",17),g.qZA(),g.TgZ(89,"div",14),g.TgZ(90,"div",15),g.TgZ(91,"h5"),g._uU(92,"Tautan Produk"),g.qZA(),g.qZA(),g.TgZ(93,"div",15),g.TgZ(94,"div",35),g.TgZ(95,"div",36),g.TgZ(96,"span",37),g._uU(97),g.qZA(),g.qZA(),g._UZ(98,"input",38),g.qZA(),g.qZA(),g.YNc(99,j,2,0,"div",17),g.YNc(100,V,2,0,"div",17),g.qZA(),g.TgZ(101,"div",39),g.YNc(102,pt,49,18,"div",40),g.qZA(),g.TgZ(103,"div",41),g.TgZ(104,"div",42),g.TgZ(105,"button",43),g.NdJ("click",function(){return g.CHM(t),g.oxw(2).changePage("list")}),g._UZ(106,"i",44),g._uU(107," BATAL "),g.qZA(),g.qZA(),g.TgZ(108,"div",45),g.TgZ(109,"button",46),g.NdJ("click",function(){g.CHM(t);const e=g.oxw(2),i=g.MAs(6);return e.openModalStatusProduct(i)}),g._uU(110," TOLAK "),g.qZA(),g.qZA(),g.TgZ(111,"div",45),g.TgZ(112,"button",47),g.NdJ("click",function(){g.CHM(t);const e=g.oxw(2),i=g.MAs(4);return e.openModalStatusProduct(i)}),g._uU(113," SETUJUI "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.BQk()}if(2&t){const t=g.oxw(2);g.xp6(11),g.Q6J("formGroup",t.editProductForm),g.xp6(10),g.Q6J("ngIf",t.editProductForm.get("code").hasError("required")&&(t.editProductForm.get("code").dirty||t.editProductForm.get("code").touched)),g.xp6(1),g.Q6J("ngIf",t.editProductForm.get("code").hasError("pattern")),g.xp6(13),g.Q6J("ngIf",!t.previewImageProduct1),g.xp6(1),g.Q6J("ngIf",t.previewImageProduct1),g.xp6(2),g.Q6J("ngIf",t.editProductForm.get("image1").hasError("required")&&(t.editProductForm.get("image1").dirty||t.editProductForm.get("image1").touched)),g.xp6(5),g.Q6J("ngIf",!t.previewImageProduct2),g.xp6(1),g.Q6J("ngIf",t.previewImageProduct2),g.xp6(6),g.Q6J("ngIf",!t.previewImageProduct3),g.xp6(1),g.Q6J("ngIf",t.previewImageProduct3),g.xp6(8),g.Q6J("ngIf",t.editProductForm.get("name").hasError("required")&&(t.editProductForm.get("name").dirty||t.editProductForm.get("name").touched)),g.xp6(1),g.Q6J("ngIf",t.editProductForm.get("name").hasError("pattern")),g.xp6(6),g.Q6J("multiple",!1),g.xp6(1),g.Q6J("ngForOf",t.listCategoryProduct),g.xp6(1),g.Q6J("ngIf",t.editProductForm.get("category").hasError("required")&&(t.editProductForm.get("category").dirty||t.editProductForm.get("category").touched)),g.xp6(6),g.Q6J("value",t.productCondition.New),g.xp6(3),g.Q6J("value",t.productCondition.Used),g.xp6(3),g.Q6J("ngIf",t.editProductForm.get("condition").hasError("required")&&(t.editProductForm.get("condition").dirty||t.editProductForm.get("condition").touched)),g.xp6(7),g.Q6J("ngIf",t.editProductForm.get("description").hasError("required")&&(t.editProductForm.get("description").dirty||t.editProductForm.get("description").touched)),g.xp6(1),g.Q6J("ngIf",t.editProductForm.get("description").hasError("pattern")),g.xp6(9),g.Oqu(t.productLinkHost),g.xp6(2),g.Q6J("ngIf",t.editProductForm.get("link").hasError("required")&&(t.editProductForm.get("link").dirty||t.editProductForm.get("link").touched)),g.xp6(1),g.Q6J("ngIf",t.editProductForm.get("link").hasError("pattern")),g.xp6(2),g.Q6J("ngForOf",t.editProductForm.get("variants").controls)}}function Zt(t,e){if(1&t&&(g.YNc(0,N,2,0,"ng-container",6),g.YNc(1,ht,114,24,"ng-container",6)),2&t){const t=g.oxw();g.Q6J("ngIf","list"===t.pageName),g.xp6(1),g.Q6J("ngIf","edit"===t.pageName)}}function mt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",75),g.TgZ(1,"h5",76),g.TgZ(2,"div",77),g.TgZ(3,"div"),g._UZ(4,"img",78),g.qZA(),g.TgZ(5,"div",79),g.TgZ(6,"h4"),g._uU(7,"Setujui Produk?"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"div",80),g.TgZ(9,"div",81),g.TgZ(10,"div",82),g._uU(11," Pastikan produk yang akan disetujui sudah sesuai dengan syarat dan ketentuan yang berlaku di Jokul "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"div",83),g.TgZ(13,"button",84),g.NdJ("click",function(){return g.CHM(t).$implicit.close()}),g._uU(14,"BATAL"),g.qZA(),g.TgZ(15,"button",85),g.NdJ("click",function(){return g.CHM(t),g.oxw().submitApproveProduct()}),g._uU(16,"SETUJUI"),g.qZA(),g.qZA()}}function ft(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",99),g.TgZ(1,"textarea",100),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw(2).otherDeclineReasonText=e}),g.qZA(),g.qZA()}if(2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("ngModel",t.otherDeclineReasonText)}}function vt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",75),g.TgZ(1,"h5",76),g.TgZ(2,"div",77),g.TgZ(3,"div"),g._UZ(4,"img",78),g.qZA(),g.TgZ(5,"div",79),g.TgZ(6,"h4"),g._uU(7,"Tolak Produk?"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"div",80),g.TgZ(9,"div",81),g.TgZ(10,"div",82),g._uU(11," Apakah informasi yang ditampilkan tidak sesuai dengan syarat & ketentuan di Jokul? "),g._UZ(12,"br"),g._uU(13," Pilih alasan kenapa produk ini ditolak "),g.qZA(),g.TgZ(14,"div",86),g.TgZ(15,"input",87),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw().declineReason=e}),g.qZA(),g.TgZ(16,"label",88),g._uU(17," Produk yang dijual adalah produk terlarang "),g._UZ(18,"br"),g.TgZ(19,"span",89),g._uU(20,"(Obat-obatan terlarang, senjata tajam, dll)"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"div",86),g.TgZ(22,"input",90),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw().declineReason=e}),g.qZA(),g.TgZ(23,"label",91),g._uU(24," Melebihi batas maksimal produk per toko "),g.qZA(),g.qZA(),g.TgZ(25,"div",86),g.TgZ(26,"input",92),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw().declineReason=e}),g.qZA(),g.TgZ(27,"label",93),g._uU(28," Produk telah kadaluwarsa "),g.qZA(),g.qZA(),g.TgZ(29,"div",94),g.TgZ(30,"input",95),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw().declineReason=e}),g.qZA(),g.TgZ(31,"label",96),g._uU(32," Alasan Lainnya "),g.qZA(),g.qZA(),g.YNc(33,ft,2,1,"div",97),g.qZA(),g.qZA(),g.TgZ(34,"div",83),g.TgZ(35,"button",84),g.NdJ("click",function(){return g.CHM(t).$implicit.close()}),g._uU(36,"BATAL"),g.qZA(),g.TgZ(37,"button",98),g.NdJ("click",function(){return g.CHM(t),g.oxw().submitDeclineProduct()}),g._uU(38,"TOLAK"),g.qZA(),g.qZA()}if(2&t){const t=g.oxw();g.xp6(15),g.Q6J("ngModel",t.declineReason)("value",t.declineReasonEnum.Drugs),g.xp6(7),g.Q6J("ngModel",t.declineReason)("value",t.declineReasonEnum.Capacity),g.xp6(4),g.Q6J("ngModel",t.declineReason)("value",t.declineReasonEnum.Expired),g.xp6(4),g.Q6J("ngModel",t.declineReason)("value",t.declineReasonEnum.Others),g.xp6(3),g.Q6J("ngIf","Others"===t.declineReason),g.xp6(4),g.Q6J("disabled",null===t.declineReason||t.declineReason===t.declineReasonEnum.Others&&""===t.otherDeclineReasonText)}}let Tt=(()=>{class t{constructor(t,e,i,o,r,a,u,c,s){this.formBuilder=t,this.requestService=e,this.apiModelTranslatorService=i,this.alertService=o,this.errorService=r,this.validationService=a,this.modalService=u,this.router=c,this.activatedRoute=s,this.loading=!0,this.user=new d.n,this.listCategoryProduct=[],this.productLinkRoot=n.N.envUrl,this.productLinkBusiness="",this.productLinkHost="",this.pageName="",this.apiGetProductCategory=n.N.apiUrl+l.b.INTERNAL+l.b.INTERNAL_CATEGORY,this.apiProduct=n.N.apiUrl+l.b.INTERNAL+l.b.PRODUCT,this.productDetail=new T.xs,this.categoryDigitalGoods=A,this.productCondition=q.n,this.declineReasonEnum=P,this.declineReason=null,this.otherDeclineReasonText=""}ngOnInit(){this.pageName="edit",this.initLoad()}initLoad(){return(0,r.mG)(this,void 0,void 0,function*(){let t=yield this.getDetailProduct();yield this.getListCategoryProduct(),this.form(t),this.user=this.requestService.getUserToken(),this.productLinkBusiness=t.merchantLink,this.productLinkHost=this.productLinkRoot+"/"+a.q.ROUTING_RETAIL+"/"+a.q.ROUTING_MERCHANT+"/"+this.productLinkBusiness+"/"})}form(t){this.editProductForm=this.formBuilder.group({code:[null==t?void 0:t.code,[p.kI.required,p.kI.pattern]],name:[null==t?void 0:t.name,[p.kI.required,p.kI.pattern]],category:[null==t?void 0:t.category,[p.kI.required]],digitalGoods:[null],description:[null==t?void 0:t.description,[p.kI.required,p.kI.pattern]],link:[null==t?void 0:t.link,[p.kI.required,p.kI.pattern]],image1:[null],uiId:[this.productUiId],condition:[null==t?void 0:t.condition,[p.kI.required]],variants:this.formBuilder.array(t.variants.map(t=>this.initVariantsProduct(t)))})}initVariantsProduct(t){return this.formBuilder.group({uiId:[t.uiId,[p.kI.required]],color:[t.color,[p.kI.required,p.kI.pattern]],minimumOrder:[t.minimumOrder,[p.kI.required,p.kI.pattern]],length:[t.length,[p.kI.required,p.kI.pattern]],width:[t.width,[p.kI.required,p.kI.pattern]],height:[t.height,[p.kI.required,p.kI.pattern]],stock:[t.stock,[p.kI.required,p.kI.pattern]],price:[t.price,[p.kI.required,p.kI.pattern,p.kI.min(1e4)]],weight:[t.weight,[p.kI.required,p.kI.pattern]]})}getListCategoryProduct(){this.requestService.get(this.apiGetProductCategory,null).subscribe(t=>{this.listCategoryProduct=t,this.loading=!1},t=>{this.errorService.getErrorApi(t)})}getDetailProduct(){return(0,r.mG)(this,void 0,void 0,function*(){return this.requestService.get(this.apiProduct+"/"+this.productUiId+l.b.PRODUCT_DETAIL,null).toPromise().then(t=>{var e,i,o;return this.productDetail=this.apiModelTranslatorService.snakeToCamelCase(t),this.productDetail.link=decodeURI(this.productDetail.link),this.previewImageProduct1=null===(e=this.productDetail.images[0])||void 0===e?void 0:e.url,this.previewImageProduct2=null===(i=this.productDetail.images[1])||void 0===i?void 0:i.url,this.previewImageProduct3=null===(o=this.productDetail.images[2])||void 0===o?void 0:o.url,this.productDetail},t=>{this.errorService.getErrorApi(t)})})}submitEditProduct(){if(this.editProductForm.valid){let t=encodeURI(this.editProductForm.get("link").value);this.editProductForm.patchValue({link:t}),this.editProductForm.get("category").value===this.categoryDigitalGoods.DigitalGoods?this.editProductForm.patchValue({digitalGoods:!0}):this.editProductForm.patchValue({digitalGoods:!1}),k().fire({title:"Ubah Produk?",text:"Informasi produk akan berubah dan ditampilkan ke website Pelanggan",showCancelButton:!0,cancelButtonText:"BATAL",cancelButtonColor:"#666666",reverseButtons:!0,confirmButtonColor:"#E1251B",confirmButtonText:"UBAH",showLoaderOnConfirm:!0,customClass:{title:"swal2-title-modal-medium"},preConfirm:()=>(0,r.mG)(this,void 0,void 0,function*(){this.requestService.put(this.apiProduct,null,this.apiModelTranslatorService.camelToSnakeCase(this.editProductForm.value)).subscribe(t=>{this.router.navigate([a.q.ROUTING_INVENTORY]),this.alertService.setProps("Success! Edit Produk",!1)},t=>{this.errorService.getErrorApi(t)}),null!=this.imageToUpload1&&(yield this.uploadImageProduct(this.productUiId,this.imageToUpload1,"0")),null!=this.imageToUpload2&&(yield this.uploadImageProduct(this.productUiId,this.imageToUpload2,"1")),null!=this.imageToUpload3&&(yield this.uploadImageProduct(this.productUiId,this.imageToUpload3,"2"))})})}}uploadImageProduct(t,e,i){return(0,r.mG)(this,void 0,void 0,function*(){return this.requestService.uploadSingleFile("image",n.N.apiUrl+l.b.PRODUCT+"/"+t+l.b.PRODUCT_IMAGES,e,i).toPromise().then(t=>{},t=>{this.errorService.getErrorApi(t)})})}changePage(t){this.pageName=t}fileProgress(t,e){this.fileData=t.target.files[0],void 0!==this.fileData&&this.preview(e)}preview(t){var e;let i=null===(e=this.fileData)||void 0===e?void 0:e.type,o=new FileReader;o.readAsDataURL(this.fileData),o.onload=e=>{let r=new Image;r.src=o.result,r.onload=()=>{const e=r.naturalHeight,n=r.naturalWidth;"previewImageProduct1"===t?null===i.match("image.*")?(this.editProductForm.patchValue({image1:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.editProductForm.patchValue({image1:null}),this.alertService.setProps("Size more than 1 MB",!0)):e<300||n<300?(this.editProductForm.patchValue({image1:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct1=o.result,this.imageToUpload1=this.fileData):"previewImageProduct2"===t?null===i.match("image.*")?(this.editProductForm.patchValue({image2:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.editProductForm.patchValue({image2:null}),this.alertService.setProps("Size more than 1 MB",!0)):e<300||n<300?(this.editProductForm.patchValue({image2:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct2=o.result,this.imageToUpload2=this.fileData):"previewImageProduct3"===t&&(null===i.match("image.*")?(this.editProductForm.patchValue({image3:null}),this.alertService.setProps("Failed Upload Type",!0)):this.fileData.size>1e6?(this.editProductForm.patchValue({image3:null}),this.alertService.setProps("Size more than 1 MB",!0)):e<300||n<300?(this.editProductForm.patchValue({image3:null}),this.alertService.setProps("Dimension less than 300 x 300 pixels",!0)):(this.previewImageProduct3=o.result,this.imageToUpload3=this.fileData))}}}get variants(){return this.editProductForm.get("variants")}inactiveVariant(t){}validateDigitalGoods(){this.variants.controls.forEach((t,e)=>{this.editProductForm.get("category").value===this.categoryDigitalGoods.DigitalGoods&&(t.patchValue({width:1}),t.patchValue({height:1}),t.patchValue({length:1}),t.patchValue({weight:1}))})}openModalStatusProduct(t){this.modalService.open(t,{backdrop:"static",keyboard:!1})}submitDeclineProduct(){let t="";t=this.declineReason===this.declineReasonEnum.Others?this.otherDeclineReasonText:this.declineReason,this.validateProduct(t,c.P.REJECTED),this.modalService.dismissAll()}submitApproveProduct(){this.validateProduct(null,c.P.APPROVED),this.modalService.dismissAll()}validateProduct(t,e){let i=this.apiProduct+"/"+this.productUiId+l.b.INTERNAL_VALIDATE,o=new b;return o.notes=t,o.status=c.P.valueOf(e),this.requestService.post(i,null,this.apiModelTranslatorService.camelToSnakeCase(o)).subscribe(t=>{this.alertService.setProps("Success! Produk Status "+e,!1),this.changePage("list")},t=>{this.errorService.getErrorApi(t)})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(p.qu),g.Y36(h.s),g.Y36(Z.g),g.Y36(m.c),g.Y36(f.T),g.Y36(U.R),g.Y36(v.FF),g.Y36(I.F0),g.Y36(I.gz))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-internal-detail"]],inputs:{productUiId:"productUiId"},decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["loaded",""],["approveProduct",""],["declineProduct",""],[1,"center"],["role","status",1,"spinner-border","text-primary","spinner-sm","mr-5"],[4,"ngIf"],[1,"row"],[1,"form-group","col-md-12","page-header"],[1,"card"],[1,"card-body"],[1,"col-12","col-md-6"],["id","editProductForm",1,"pt-10",3,"formGroup","ngSubmit"],[1,"card-title","px-3"],[1,"form-group"],[1,"col"],["formControlName","code","id","code","placeholder","Kode Produk","required","","type","text","pattern","^[a-zA-Z0-9.\\-\\\\/+,=_:'@%| ]*$","readonly","",1,"form-control","dk-text-input"],["class","col text-danger",4,"ngIf"],[1,"row","mt-3","px-3"],[1,"col-12","col-md-4"],[1,"form-group","d-flex","justify-content-center"],[1,"image-upload","d-flex","justify-content-center",2,"border-style","dashed","width","220px","height","220px"],["for","file-input1",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input1","type","file","name","image","accept","image/png, image/jpg, image/jpeg","formControlName","image1",3,"change"],["for","file-input2",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input2","type","file","name","image","accept","image/png, image/jpg, image/jpeg",3,"change"],["for","file-input3",2,"margin-top","auto","margin-bottom","auto","cursor","pointer"],["id","file-input3","type","file","name","image","accept","image/png, image/jpg, image/jpeg",3,"change"],["formControlName","name","id","name","placeholder","Nama Produk","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$",1,"form-control","dk-text-input"],["formControlName","category","id","category",3,"multiple","change"],[3,"value",4,"ngFor","ngForOf"],["type","radio","id","conditionNew","formControlName","condition",3,"value"],[2,"margin-right","50px"],["type","radio","id","conditionUsed","formControlName","condition",3,"value"],["formControlName","description","id","description","placeholder","Deskripsi Produk","required","","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$","rows","4",1,"form-control","dk-text-input"],[1,"input-group"],[1,"input-group-append"],["id","linkStore",1,"input-group-text","dk-span-group"],["formControlName","link","id","link","placeholder","Tautan-Produk","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%|-]*$",1,"form-control","dk-text-input"],["formArrayName","variants"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex","bd-highlight","mb-3","col"],[1,"mr-auto","p-2","bd-highlight","align-middle"],["id","backButton","type","button",1,"btn","btn-secondary","ml-auto",3,"click"],[1,"fa","fa-arrow-left","in-icon"],[1,"p-2","bd-highlight","align-middle"],["id","btnDeclined","type","button",1,"btn","btn-secondary","ml-auto",3,"click"],["id","btnApprove","type","button",1,"btn","btn-primary","ml-auto",3,"click"],[1,"col","text-danger"],[1,"fas","fa-plus-circle","text-primary"],[1,"image-container",3,"src"],[3,"value"],[3,"formGroupName"],[1,"form-group","row"],[1,"card-title","px-3","col-6",2,"margin-top","40px"],["type","button","disabled","",1,"btn","btn-link","col-6","text-right",3,"id","click"],[1,"fa","fa-minus","in-icon"],["formControlName","color","placeholder","Varian Produk","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$",1,"form-control","dk-text-input",3,"id"],["formControlName","stock","placeholder","1-9999","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","currency",1,"input-group-text","dk-span-group"],["formControlName","price","placeholder","10000-99999999","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","text_small",1,"form-text","text-muted"],["class","form-group",4,"ngIf"],["formControlName","minimumOrder","placeholder","1","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["formControlName","weight","placeholder","0.1-9999","required","","type","text","pattern","^[0-9]+(\\.[0-9]{1,2})?$",1,"form-control","dk-text-input",3,"id","keypress"],["id","unit",1,"input-group-text","dk-span-group"],[1,"row","px-3"],["formControlName","length","placeholder","1-9999","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","lengthUnit",1,"input-group-text","dk-span-group"],["class","text-danger",4,"ngIf"],["formControlName","width","placeholder","1-9999","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","widthUnit",1,"input-group-text","dk-span-group"],["formControlName","height","placeholder","1-9999","required","","type","text","pattern","^[0-9]*$",1,"form-control","dk-text-input",3,"id","keypress"],["id","heightUnit",1,"input-group-text","dk-span-group"],[1,"text-danger"],[1,"modal-header"],[1,"modal-title"],[1,"event-icon","d-flex"],["src","https://cdn-dev.oss-ap-southeast-5.aliyuncs.com/doku-ui-framework/doku/img/modal-ornament/warning-icon.png","alt",""],[1,"header-content"],[1,"modal-body"],[1,"background"],[1,"ml-4","mb-2"],[1,"modal-footer"],["type","button",1,"btn","btn-link",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-check","mb-2"],["type","radio","name","declineReason","id","productTerlarang",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","productTerlarang",1,"form-check-label"],[1,"text"],["type","radio","name","declineReason","id","maxStore",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","maxStore",1,"form-check-label"],["type","radio","name","declineReason","id","expired",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","expired",1,"form-check-label"],[1,"form-check"],["type","radio","name","declineReason","id","others",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","others",1,"form-check-label"],["class","ml-4 mt-2 form-group",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"ml-4","mt-2","form-group"],["name","otherDeclineReasonText","id","otherDeclineReasonText","cols","30","rows","4","placeholder","Tulis alasan penolakan disini",1,"form-control","dk-text-area",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(g.YNc(0,y,3,0,"div",0),g.YNc(1,Zt,2,2,"ng-template",null,1,g.W1O),g.YNc(3,mt,17,0,"ng-template",null,2,g.W1O),g.YNc(5,vt,39,10,"ng-template",null,3,g.W1O)),2&t){const t=g.MAs(2);g.Q6J("ngIf",e.loading)("ngIfElse",t)}},styles:[".center[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:fixed;top:0;bottom:0;left:0;right:0;margin:auto}img.image-container[_ngcontent-%COMP%]{width:100%;height:180px;-o-object-fit:contain;object-fit:contain}"]}),t})();function At(t,e){1&t&&(g.TgZ(0,"div"),g.TgZ(1,"div",2),g._UZ(2,"div",3),g.qZA(),g.qZA())}function qt(t,e){if(1&t&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&t){const t=g.oxw(5);g.xp6(1),g.hij(" ",t.productStatusEnum.ACTIVE," ")}}function xt(t,e){if(1&t&&(g.TgZ(0,"span",47),g._uU(1),g.qZA()),2&t){const t=g.oxw(5);g.xp6(1),g.hij(" ",t.productStatusEnum.NON_ACTIVE," ")}}function kt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"span",48),g.NdJ("click",function(){g.CHM(t);const e=g.oxw().$implicit;return g.oxw(4).changePage("edit",e.uiId)}),g._uU(1),g.qZA()}if(2&t){const t=g.oxw(5);g.xp6(1),g.hij(" ",t.productStatusEnum.WAITING," ")}}function Pt(t,e){if(1&t&&(g.TgZ(0,"span",49),g._uU(1),g.qZA()),2&t){const t=g.oxw(5);g.xp6(1),g.hij(" ",t.productStatusEnum.REJECTED," ")}}function bt(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",38),g._UZ(2,"img",39),g._uU(3),g.qZA(),g.TgZ(4,"td",40),g._uU(5),g.ALo(6,"currency"),g.qZA(),g.TgZ(7,"td",40),g._uU(8),g.qZA(),g.TgZ(9,"td",38),g._uU(10),g.qZA(),g.TgZ(11,"td",40),g.TgZ(12,"i",41),g.NdJ("click",function(){const e=g.CHM(t).$implicit,i=g.oxw(4);return i.copyMessage(i.productLinkRoot+i.decodeURI(e.merchant.link+"/"+e.link))}),g.qZA(),g.qZA(),g.TgZ(13,"td",40),g._uU(14),g.qZA(),g.TgZ(15,"td",40),g.YNc(16,qt,2,1,"span",42),g.YNc(17,xt,2,1,"span",43),g.YNc(18,kt,2,1,"span",44),g.YNc(19,Pt,2,1,"span",45),g.qZA(),g.qZA()}if(2&t){const t=e.$implicit,i=e.index,o=g.oxw(4);g.xp6(1),g.s9C("id","name-"+i),g.xp6(1),g.Q6J("src",null==t.images[0]?null:t.images[0].url,g.LSH),g.xp6(1),g.hij(" ",t.name,""),g.xp6(1),g.s9C("id","price-"+i),g.xp6(1),g.Oqu(g.gM2(6,17,t.price,"Rp ","symbol-narrow","1.0")),g.xp6(2),g.s9C("id","stock-"+i),g.xp6(1),g.Oqu(t.stock),g.xp6(1),g.s9C("id","link-"+i),g.xp6(1),g.Oqu(o.productLinkRoot+o.decodeURI(t.merchant.link+"/"+t.link)),g.xp6(1),g.s9C("id","copy-"+i),g.xp6(2),g.s9C("id","merchantName-"+i),g.xp6(1),g.Oqu(t.merchant.businessServiceClientName),g.xp6(1),g.s9C("id","status-"+i),g.xp6(1),g.Q6J("ngIf",1==t.active&&o.productStatusEnum[t.status]==o.productStatusEnum.APPROVED),g.xp6(1),g.Q6J("ngIf",0==t.active&&o.productStatusEnum[t.status]==o.productStatusEnum.APPROVED),g.xp6(1),g.Q6J("ngIf",1==t.active&&o.productStatusEnum[t.status]==o.productStatusEnum.WAITING),g.xp6(1),g.Q6J("ngIf",1==t.active&&o.productStatusEnum[t.status]==o.productStatusEnum.REJECTED)}}function Ut(t,e){if(1&t&&(g.TgZ(0,"tbody"),g.YNc(1,bt,20,22,"tr",37),g.qZA()),2&t){const t=g.oxw(3);g.xp6(1),g.Q6J("ngForOf",t.productList)}}function It(t,e){1&t&&(g.TgZ(0,"div",50),g.TgZ(1,"div",51),g._UZ(2,"i",52),g.qZA(),g.TgZ(3,"div",53),g.TgZ(4,"h4"),g._uU(5,"Maaf, belum ada Produk"),g.qZA(),g.qZA(),g.qZA())}function yt(t,e){if(1&t){const t=g.EpF();g.ynx(0),g.TgZ(1,"div",5),g.TgZ(2,"div",6),g.TgZ(3,"h3"),g._uU(4,"Daftar Produk"),g.qZA(),g.TgZ(5,"p"),g._uU(6,"List daftar produk Merchant"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"div",5),g.TgZ(10,"div",9),g.TgZ(11,"div",5),g.TgZ(12,"div",10),g.TgZ(13,"span",11),g._uU(14,"Nama Produk"),g.qZA(),g._UZ(15,"br"),g.TgZ(16,"input",12),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw(2).filterProductName=e}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"div",13),g.TgZ(18,"div",5),g.TgZ(19,"div",10),g._UZ(20,"br"),g.TgZ(21,"div",5),g._UZ(22,"div",10),g.TgZ(23,"div",10),g.TgZ(24,"button",14),g.NdJ("click",function(){return g.CHM(t),g.oxw(2).findProduct()}),g._uU(25,"CARI"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(26,"div",5),g.TgZ(27,"div",10),g.TgZ(28,"span",11),g._uU(29,"Status"),g.qZA(),g._UZ(30,"br"),g.TgZ(31,"div",15),g.TgZ(32,"input",16),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw(2).filterChkWaiting=e}),g.qZA(),g.TgZ(33,"label",17),g._uU(34),g.qZA(),g.qZA(),g.TgZ(35,"div",18),g.TgZ(36,"input",19),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw(2).filterChkActive=e}),g.qZA(),g.TgZ(37,"label",20),g._uU(38),g.qZA(),g.qZA(),g.TgZ(39,"div",18),g.TgZ(40,"input",21),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw(2).filterChkNonActive=e}),g.qZA(),g.TgZ(41,"label",22),g._uU(42),g.qZA(),g.qZA(),g.TgZ(43,"div",18),g.TgZ(44,"input",23),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw(2).filterChkRejected=e}),g.qZA(),g.TgZ(45,"label",24),g._uU(46),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g._UZ(47,"hr"),g.TgZ(48,"table",25),g.TgZ(49,"thead"),g.TgZ(50,"tr"),g.TgZ(51,"th",26),g._uU(52,"Nama"),g.qZA(),g.TgZ(53,"th",27),g._uU(54,"Harga(Rp)"),g.qZA(),g.TgZ(55,"th",28),g._uU(56,"Stock"),g.qZA(),g.TgZ(57,"th",26),g._uU(58,"Tautan"),g.qZA(),g._UZ(59,"th",29),g.TgZ(60,"th",26),g._uU(61,"Nama Toko"),g.qZA(),g.TgZ(62,"th",30),g._uU(63,"Status"),g.qZA(),g.qZA(),g.qZA(),g.YNc(64,Ut,2,1,"tbody",4),g.qZA(),g.YNc(65,It,6,0,"div",31),g.TgZ(66,"div",32),g.TgZ(67,"select",33),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw(2).pageSize=e})("ngModelChange",function(){g.CHM(t);const e=g.oxw(2);return e.onPageChange(e.page,e.pageSize)}),g.TgZ(68,"option",34),g._uU(69,"5 items per page"),g.qZA(),g.TgZ(70,"option",34),g._uU(71,"10 items per page"),g.qZA(),g.TgZ(72,"option",34),g._uU(73,"15 items per page"),g.qZA(),g.qZA(),g.TgZ(74,"p",35),g._uU(75),g.qZA(),g.TgZ(76,"ngb-pagination",36),g.NdJ("pageChange",function(e){return g.CHM(t),g.oxw(2).page=e})("pageChange",function(e){g.CHM(t);const i=g.oxw(2);return i.onPageChange(e,i.pageSize)}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.BQk()}if(2&t){const t=g.oxw(2);g.xp6(16),g.Q6J("ngModel",t.filterProductName),g.xp6(16),g.Q6J("ngModel",t.filterChkWaiting),g.xp6(2),g.Oqu(t.productStatusEnum.WAITING),g.xp6(2),g.Q6J("ngModel",t.filterChkActive),g.xp6(2),g.Oqu(t.productStatusEnum.ACTIVE),g.xp6(2),g.Q6J("ngModel",t.filterChkNonActive),g.xp6(2),g.Oqu(t.productStatusEnum.NON_ACTIVE),g.xp6(2),g.Q6J("ngModel",t.filterChkRejected),g.xp6(2),g.Oqu(t.productStatusEnum.REJECTED),g.xp6(18),g.Q6J("ngIf",0!==t.productList.length),g.xp6(1),g.Q6J("ngIf",0===t.productList.length),g.xp6(2),g.Q6J("ngModel",t.pageSize),g.xp6(1),g.Q6J("ngValue",5),g.xp6(2),g.Q6J("ngValue",10),g.xp6(2),g.Q6J("ngValue",15),g.xp6(3),g.lnq("Showing ",t.startData," to ",t.endData," from ",t.totalData," entries"),g.xp6(1),g.Q6J("page",t.page)("pageSize",t.pageSize)("collectionSize",t.totalData)("maxSize",2)}}function Nt(t,e){if(1&t&&(g.ynx(0),g._UZ(1,"app-internal-detail",54),g.BQk()),2&t){const t=g.oxw(2);g.xp6(1),g.Q6J("productUiId",t.productUiId)}}function _t(t,e){if(1&t&&(g.YNc(0,yt,77,22,"ng-container",4),g.YNc(1,Nt,2,1,"ng-container",4)),2&t){const t=g.oxw();g.Q6J("ngIf","list"===t.pageName),g.xp6(1),g.Q6J("ngIf","edit"===t.pageName)}}let Ct=(()=>{class t{constructor(t,e,i,o,r){this.formBuilder=t,this.requestService=e,this.apiModelTranslatorService=i,this.alertService=o,this.errorService=r,this.loading=!0,this.pageName="",this.page=1,this.pageSize=5,this.totalData=0,this.startData=0,this.endData=0,this.filterProductName=null,this.filterProductStatus=[],this.filterProductActive=null,this.filterProductCategory=null,this.filterProductLink=null,this.filterProductCondition=null,this.filterProductStock=null,this.filterChkWaiting=!0,this.filterChkActive=!0,this.filterChkNonActive=!0,this.filterChkRejected=!0,this.paginationSort="DESC",this.user=new d.n,this.responseApi=new u.d,this.productList=new Array,this.productStatusEnum=c.P,this.apiInternalGetProduct=n.N.apiUrl+l.b.INTERNAL_LIST,this.productLinkRoot=n.N.envUrl+"/"+a.q.ROUTING_RETAIL+"/"+a.q.ROUTING_MERCHANT+"/"}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.initLoad(),this.user=this.requestService.getUserToken(),this.productLinkRoot=n.N.envUrl+"/"+a.q.ROUTING_RETAIL+"/"+a.q.ROUTING_MERCHANT+"/"})}initLoad(){return(0,r.mG)(this,void 0,void 0,function*(){this.pageName="list",this.getListInventory(this.page,this.pageSize,this.paginationSort,null,null,null,null,null,null)})}getListInventory(t,e,i,o,r,n,a,d,u){this.loading=!0;let c=new Map;c.set("page",t-1),c.set("size",e),c.set("sort",i),null!==o&&""!==o&&c.set("name",o),null!==r&&c.set("filters",r),this.requestService.get(this.apiInternalGetProduct,c).subscribe(t=>{this.productList=this.apiModelTranslatorService.snakeToCamelCase(t.products),this.totalData=t.pageable.total_data,this.startData=t.pageable.start_data,this.endData=t.pageable.end_data,this.loading=!1},t=>{this.loading=!1,this.responseApi=t.error,this.errorService.getErrorApi(t)})}copyMessage(t){const e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=t,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.alertService.setProps("Product Link is already copied",!1)}onPageChange(t,e){this.getListInventory(t,e,this.paginationSort,this.filterProductName,this.filterProductStatus,this.filterProductCategory,this.filterProductLink,this.filterProductCondition,this.filterProductStock)}decodeURI(t){return decodeURI(t)}findProduct(){let t;this.filterProductStatus=[],!0===this.filterChkActive&&(t=s.Active,this.filterProductStatus.push(t)),!0===this.filterChkNonActive&&(t=s.Inactive,this.filterProductStatus.push(t)),!0===this.filterChkWaiting&&(t=s.Waiting,this.filterProductStatus.push(t)),!0===this.filterChkRejected&&(t=s.Rejected,this.filterProductStatus.push(t)),this.getListInventory(this.page,this.pageSize,this.paginationSort,this.filterProductName,this.filterProductStatus,this.filterProductCategory,this.filterProductLink,this.filterProductCondition,this.filterProductStock)}changePage(t,e){"edit"===t&&(this.productUiId=e),this.pageName=t}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(p.qu),g.Y36(h.s),g.Y36(Z.g),g.Y36(m.c),g.Y36(f.T))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-internal-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loaded",""],[1,"center"],["role","status",1,"spinner-border","text-primary","spinner-sm","mr-5"],[4,"ngIf"],[1,"row"],[1,"form-group","col-md-12","page-header"],[1,"card"],[1,"card-body"],[1,"form-group","col-md-3","page-header"],[1,"col"],[1,"font-weight-bold"],["id","productName","placeholder","Cari nama produk","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| ]*$",1,"form-control","dk-text-input","mt-2",3,"ngModel","ngModelChange"],[1,"form-group","col-md-9","page-header","d-flex","justify-content-end"],["type","button","id","btnProduct",1,"btn","btn-primary",3,"click"],[1,"form-check","form-check-inline","mt-2"],["type","checkbox","id","waiting",1,"form-check-input",3,"ngModel","ngModelChange"],["for","waiting",1,"form-check-label"],[1,"form-check","form-check-inline"],["type","checkbox","id","active",1,"form-check-input",3,"ngModel","ngModelChange"],["for","active",1,"form-check-label"],["type","checkbox","id","nonactive",1,"form-check-input",3,"ngModel","ngModelChange"],["for","nonactive",1,"form-check-label"],["type","checkbox","id","reject",1,"form-check-input",3,"ngModel","ngModelChange"],["for","reject",1,"form-check-label"],[1,"table","table-responsive-sm","table-striped",2,"table-layout","fixed"],["scope","col"],["scope","col",2,"width","180px"],["scope","col",2,"width","100px"],["scope","col",2,"width","60px"],["scope","col",2,"width","150px"],["style","margin-top: 100px; margin-bottom: 100px",4,"ngIf"],[1,"d-flex","bd-highlight","mb-3"],[1,"custom-select","mr-auto","bd-highlight","align-middle",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"card-description","p-2","bd-highlight","align-middle"],[1,"p-2","bd-highlight","align-middle",3,"page","pageSize","collectionSize","maxSize","pageChange"],[4,"ngFor","ngForOf"],[1,"align-middle","text-ellipsis","text-ellipsis-breakable",3,"id"],[1,"image-container",3,"src"],[1,"align-middle",3,"id"],[1,"far","fa-copy",2,"cursor","pointer",3,"click"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],["class","badge badge-warning pointer-cursor",3,"click",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"badge","badge-warning","pointer-cursor",3,"click"],[1,"badge","badge-danger"],[2,"margin-top","100px","margin-bottom","100px"],[1,"d-flex","justify-content-center",2,"margin-bottom","20px"],[1,"fas","fa-search","fa-8x"],[1,"d-flex","justify-content-center"],[3,"productUiId"]],template:function(t,e){if(1&t&&(g.YNc(0,At,3,0,"div",0),g.YNc(1,_t,2,2,"ng-template",null,1,g.W1O)),2&t){const t=g.MAs(2);g.Q6J("ngIf",e.loading)("ngIfElse",t)}},directives:[o.O5,p.Fj,p.Q7,p.c5,p.JJ,p.On,p.Wl,p.EJ,p.YN,p.Kr,v.N9,o.sg,Tt],pipes:[o.H9],styles:[".center[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:fixed;top:0;bottom:0;left:0;right:0;margin:auto}img.image-container[_ngcontent-%COMP%]{width:45px;height:45px;-o-object-fit:contain;object-fit:contain}"]}),t})();var wt=i(6385);const St=[{path:a.q.ROUTING_INTERNAL_LIST,component:Ct,pathMatch:"full"}];let Jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[o.ez,I.Bz.forChild(St),v.jF,p.u5,v.XC,wt.A0,p.UX]]}),t})();g.B6R(Tt,[o.O5,Ct,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,p.Q7,p.c5,wt.w9,o.sg,wt.xv,p._,p.CE,p.x0,p.On],[])}}]);