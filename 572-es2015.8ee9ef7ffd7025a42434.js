"use strict";(self.webpackChunkrvn_retail_ui=self.webpackChunkrvn_retail_ui||[]).push([[572],{3572:function(e,t,r){r.r(t),r.d(t,{SimulatorModule:function(){return _}});var i=r(8583),n=r(4762),o=r(665),s=r(8259),a=r.n(s),d=r(2340),c=r(8412),u=r(6694),l=r(6473),m=r(8228),f=r(5320),g=r(7716),h=r(1689),p=r(6506),v=r(7199),Z=r(7957);function A(e,t){1&e&&(g.TgZ(0,"div"),g.TgZ(1,"div",2),g._UZ(2,"div",3),g.qZA(),g.qZA())}function T(e,t){1&e&&(g.TgZ(0,"div",16),g._uU(1,"*This field is not valid input text"),g.qZA())}function b(e,t){1&e&&(g.TgZ(0,"div",16),g._uU(1,"*This field is cannot be left empty"),g.qZA())}function q(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",4),g.TgZ(1,"div",5),g.TgZ(2,"div",6),g.TgZ(3,"div",7),g.TgZ(4,"h3"),g._uU(5,"Simulator Receive Order"),g.qZA(),g.TgZ(6,"p"),g._uU(7,"Simulator untuk melakukan pesanan telah diterima"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"form",8),g.NdJ("ngSubmit",function(){return g.CHM(e),g.oxw().submitReceiveOrder()}),g.TgZ(9,"div",6),g.TgZ(10,"div",9),g.TgZ(11,"div",6),g.TgZ(12,"div",10),g.TgZ(13,"span",11),g._uU(14,"Nomor Pesanan"),g.qZA(),g._UZ(15,"br"),g._UZ(16,"input",12),g.YNc(17,T,2,0,"div",13),g.YNc(18,b,2,0,"div",13),g._UZ(19,"br"),g.TgZ(20,"div",14),g.TgZ(21,"button",15),g._uU(22,"SUBMIT"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(8),g.Q6J("formGroup",e.receiveOrderForm),g.xp6(9),g.Q6J("ngIf",e.receiveOrderForm.get("nomorPesanan").hasError("pattern")),g.xp6(1),g.Q6J("ngIf",e.receiveOrderForm.get("nomorPesanan").hasError("required")&&(e.receiveOrderForm.get("nomorPesanan").dirty||e.receiveOrderForm.get("nomorPesanan").touched)),g.xp6(3),g.Q6J("disabled",!e.receiveOrderForm.valid)}}const O=[{path:"",component:(()=>{class e{constructor(e,t,r,i,n){this.formBuilder=e,this.requestService=t,this.alertService=r,this.errorService=i,this.router=n,this.loading=!0,this.responseApi=new f.d}ngOnInit(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.initLoad()})}initLoad(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.getConfigurationStoreInfo(),this.form()})}form(){this.receiveOrderForm=this.formBuilder.group({nomorPesanan:[null,[o.kI.required]]})}getConfigurationStoreInfo(){return(0,n.mG)(this,void 0,void 0,function*(){return this.requestService.get(d.N.apiUrl+c.b.MERCHANT,null).toPromise().then(e=>{this.loading=!1},e=>{this.responseApi=e.error,this.responseApi.error.code===u.X.MERCHANT_NOT_FOUND?(this.loading=!1,this.router.navigate([l.q.ERROR_CUSTOM,m.R.KYB])):this.errorService.getErrorApi(e)})})}submitReceiveOrder(){if(this.receiveOrderForm.valid){let e=`/${this.receiveOrderForm.get("nomorPesanan").value}/receive`,t=d.N.apiUrl+c.b.MERCHANT_ORDER+e;a().fire({title:"Menerima Pesanan",text:"Apakah anda ingin merubah status pesanan anda menjadi telah diterima?",showCancelButton:!0,cancelButtonText:"BATAL",cancelButtonColor:"#666666",reverseButtons:!0,confirmButtonColor:"#E1251B",confirmButtonText:"DITERIMA",showLoaderOnConfirm:!0,customClass:{title:"swal2-title-modal-medium"},preConfirm:()=>(0,n.mG)(this,void 0,void 0,function*(){this.requestService.post(t,null,null).subscribe(e=>{this.alertService.setProps("Success! Order Received",!1)},e=>{this.errorService.getErrorApi(e)})})})}}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(o.qu),g.Y36(h.s),g.Y36(p.c),g.Y36(v.T),g.Y36(Z.F0))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-order-receive"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loaded",""],[1,"center"],["role","status",1,"spinner-border","text-primary","spinner-sm","mr-5"],[1,"card"],[1,"card-body"],[1,"row"],[1,"form-group","col-md-12","page-header"],["id","receiveOrderForm",3,"formGroup","ngSubmit"],[1,"form-group","col-md-3","page-header"],[1,"col"],[1,"font-weight-bold"],["id","nomorPesanan","placeholder","INV-RETAIL-12345678901234567","formControlName","nomorPesanan","required","","type","text","pattern","^[a-zA-Z0-9.\\\\-\\\\/+,=_:'@%| -]*$",1,"form-control","dk-text-input","mt-2"],["class","text-danger",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit","id","btnSubmitOrderReceive",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(e,t){if(1&e&&(g.YNc(0,A,3,0,"div",0),g.YNc(1,q,23,4,"ng-template",null,1,g.W1O)),2&e){const e=g.MAs(2);g.Q6J("ngIf",t.loading)("ngIfElse",e)}},directives:[i.O5,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.Q7,o.c5],styles:[".center[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:fixed;top:0;bottom:0;left:0;right:0;margin:auto}img.image-container[_ngcontent-%COMP%]{width:45px;height:45px;-o-object-fit:contain;object-fit:contain}"]}),e})(),pathMatch:"full"}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.ez,Z.Bz.forChild(O),o.UX,o.u5]]}),e})()}}]);